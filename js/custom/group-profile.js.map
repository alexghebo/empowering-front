{"version":3,"sources":["../../../src/js/custom/group-profile.js"],"names":["$","document","ready","userId","cookie","authToken","ajax","type","url","baseUrl","headers","Authorization","crossDomain","success","data","firsName","name","lastName","groupType","userType","html","city","locationCity","country","locationCountry","location","email","i","domains","length","userGroupDomainBadge","append","connections","userMemberTemplate","hide","clone","prependTo","show","find","addClass","contentType","membersGroup","console","log"],"mappings":"AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;AAC5B,MAAIC,MAAM,GAAGH,CAAC,CAACI,MAAF,CAAS,YAAT,CAAb;AACA,MAAIC,SAAS,GAAGL,CAAC,CAACI,MAAF,CAAS,WAAT,CAAhB;AACAJ,EAAAA,CAAC,CAACM,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BN,MAF1B;AAGLO,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAYN;AAA7B,KAHJ;AAILO,IAAAA,WAAW,EAAE,IAJR;AAKLC,IAAAA,OAAO,EAAE,UAAUC,IAAV,EAAgB;AACvB,UAAIC,QAAQ,GAAGD,IAAI,CAACE,IAApB;AACA,UAAIC,QAAQ,GAAGH,IAAI,CAACE,IAApB;AACA,UAAIA,IAAI,GAAGD,QAAQ,GAAG,GAAX,GAAiBE,QAA5B;AACA,UAAIC,SAAS,GAAGJ,IAAI,CAACK,QAArB;AACAnB,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBoB,IAAjB,CAAsBJ,IAAtB;;AAEA,UAAIE,SAAS,KAAK,gBAAlB,EAAoC;AAClClB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBoB,IAAjB,CAAsB,gBAAtB;AACD,OAFD,MAEO,IAAIF,SAAS,KAAK,KAAlB,EAAyB;AAC9BlB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBoB,IAAjB,CAAsB,KAAtB;AACD,OAFM,MAEA,IAAIF,SAAS,KAAK,oBAAlB,EAAwC;AAC7ClB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBoB,IAAjB,CAAsB,oBAAtB;AACD,OAFM,MAEA;AACLpB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBoB,IAAjB,CAAsB,mBAAtB;AACD;;AACD,UAAIC,IAAI,GAAGP,IAAI,CAACQ,YAAhB;AACA,UAAIC,OAAO,GAAGT,IAAI,CAACU,eAAnB;AACA,UAAIC,QAAQ,GAAGJ,IAAI,GAAG,IAAP,GAAcE,OAA7B;AACAvB,MAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBoB,IAArB,CAA0BK,QAA1B;AACA,UAAIC,KAAK,GAAGZ,IAAI,CAACY,KAAjB;AACA1B,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBoB,IAAlB,CAAuBM,KAAvB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,IAAI,CAACc,OAAL,CAAaC,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAC5C,YAAIG,oBAAoB,GAAI,uDAAsDhB,IAAI,CAACc,OAAL,CAAaD,CAAb,EAAgBX,IAAK,SAAvG;AACAhB,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB+B,MAApB,CAA2BD,oBAA3B;AACD;;AAED,UAAIE,WAAW,GAAGlB,IAAI,CAACkB,WAAvB;;AACA,UAAIA,WAAW,CAACH,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,YAAII,kBAAkB,GAAGjC,CAAC,CAAC,cAAD,CAA1B;AACAiC,QAAAA,kBAAkB,CAACC,IAAnB;;AACA,aAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,WAAW,CAACH,MAAhC,EAAwCF,CAAC,EAAzC,EAA6C;AAC3CM,UAAAA,kBAAkB,CAACE,KAAnB,GAA2BC,SAA3B,CAAqC,eAArC,EAAsDC,IAAtD;AACAJ,UAAAA,kBAAkB,CACfK,IADH,CACQ,mBADR,EAEGlB,IAFH,CAEQY,WAAW,CAACL,CAAD,CAAX,CAAeX,IAFvB;AAGD;AACF,OATD,MASO;AACLhB,QAAAA,CAAC,CAAC,eAAD,CAAD,CACGoB,IADH,CACQ,gCADR,EAEGmB,QAFH,CAEY,KAFZ;AAGD;AACF;AA/CI,GAAP;AAkDAvC,EAAAA,CAAC,CAACM,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BN,MAA1B,GAAmC,UAFnC;AAGLO,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAYN;AAA7B,KAHJ;AAILmC,IAAAA,WAAW,EAAE,kBAJR;AAKL3B,IAAAA,OAAO,EAAE,UAAU4B,YAAV,EAAwB;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;;AACA,UAAIA,YAAY,CAACZ,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,YAAII,kBAAkB,GAAGjC,CAAC,CAAC,oBAAD,CAA1B;AACAiC,QAAAA,kBAAkB,CAACC,IAAnB;;AACA,aAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGc,YAAY,CAACZ,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAC5CM,UAAAA,kBAAkB,CAACE,KAAnB,GAA2BC,SAA3B,CAAqC,qBAArC,EAA4DC,IAA5D;AACAJ,UAAAA,kBAAkB,CAACK,IAAnB,CAAwB,yBAAxB,EAAmDlB,IAAnD,CACG,0CAAyCqB,YAAY,CAACd,CAAD,CAAI;AACtE,kBAAkBc,YAAY,CAACd,CAAD,CAAZ,CAAgBX,IAAK;AACvC,mBAHU;AAKD;AACF,OAXD,MAWO;AACLhB,QAAAA,CAAC,CAAC,qBAAD,CAAD,CACGoB,IADH,CACQ,gCADR,EAEGmB,QAFH,CAEY,KAFZ;AAGD;AACF;AAvBI,GAAP;AAyBD,CA9ED","sourcesContent":["$(document).ready(function () {\n  let userId = $.cookie(\"authUserId\");\n  let authToken = $.cookie(\"authToken\");\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/users/\" + userId,\n    headers: { Authorization: \"Bearer \" + authToken },\n    crossDomain: true,\n    success: function (data) {\n      var firsName = data.name;\n      var lastName = data.name;\n      var name = firsName + \" \" + lastName;\n      var groupType = data.userType;\n      $(\".group-name\").html(name);\n\n      if (groupType === \"INFORMAL_GROUP\") {\n        $(\".group-type\").html(\"Informal group\");\n      } else if (groupType === \"NGO\") {\n        $(\".group-type\").html(\"NGO\");\n      } else if (groupType === \"PUBLIC_INSTITUTION\") {\n        $(\".group-type\").html(\"Public Institution\");\n      } else {\n        $(\".group-type\").html(\"USER TYPE NOT SET\");\n      }\n      var city = data.locationCity;\n      var country = data.locationCountry;\n      var location = city + \", \" + country;\n      $(\".group-location\").html(location);\n      var email = data.email;\n      $(\".group-email\").html(email);\n      for (var i = 0; i < data.domains.length; i++) {\n        var userGroupDomainBadge = `<span class=\"badge badge-pill badge-secondary ml-2\">${data.domains[i].name}</span>`;\n        $(\".group-domains\").append(userGroupDomainBadge);\n      }\n\n      let connections = data.connections;\n      if (connections.length > 0) {\n        var userMemberTemplate = $(\"#user-member\");\n        userMemberTemplate.hide();\n        for (var i = 0; i < connections.length; i++) {\n          userMemberTemplate.clone().prependTo(\".user-members\").show();\n          userMemberTemplate\n            .find(\"#user-member-name\")\n            .html(connections[i].name);\n        }\n      } else {\n        $(\".user-members\")\n          .html(\"You don't have any members yet\")\n          .addClass(\"p-3\");\n      }\n    },\n  });\n\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/users/\" + userId + \"/members\",\n    headers: { Authorization: \"Bearer \" + authToken },\n    contentType: \"application/json\",\n    success: function (membersGroup) {\n      console.log(membersGroup);\n      if (membersGroup.length > 0) {\n        var userMemberTemplate = $(\"#user-member-group\");\n        userMemberTemplate.hide();\n        for (var i = 0; i < membersGroup.length; i++) {\n          userMemberTemplate.clone().prependTo(\".user-members-group\").show();\n          userMemberTemplate.find(\"#user-member-name-group\").html(\n            `<a href=\"user-profile-view.html?userId=${membersGroup[i]}\">\n                ${membersGroup[i].name}\n              </a>`\n          );\n        }\n      } else {\n        $(\".user-members-group\")\n          .html(\"You don't have any members yet\")\n          .addClass(\"p-3\");\n      }\n    },\n  });\n});\n"],"file":"group-profile.js"}