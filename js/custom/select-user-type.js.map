{"version":3,"sources":["../../../src/js/custom/select-user-type.js"],"names":["currentTab","showTab","n","x","document","getElementsByClassName","style","display","getElementById","setAttribute","removeAttribute","length","innerHTML","classList","add","remove","$","removeAttr","fixStepIndicator","nextPrev","validateForm","userId","cookie","userType","val","selectedDomains","each","domainName","text","domainId","attr","push","name","id","resources","resourceInputs","children","resourcesQuantities","find","resourceNames","i","resourcesHtml","resourceName","quantity","data","domains","authToken","ajax","type","url","baseUrl","contentType","headers","Authorization","JSON","stringify","success","alert","submit","window","location","href","error","y","valid","getElementsByTagName","selectedUserType","removeClass","addClass","on","e","console","log","className","replace","ready","selectedTypeId","response","resourceTemplate","append","html","beforeSend","xhr","setRequestHeader","domainTemplate","initDomainTags","tagselect","dropClass","dropFooter","isOpen","maxTag"],"mappings":"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","sourcesContent":["var currentTab = 0; // Current tab is set to be the first tab (0)\nshowTab(currentTab); // Display the current tab\n\nfunction showTab(n) {\n  // This function will display the specified tab of the form...\n  var x = document.getElementsByClassName(\"tab\");\n  x[n].style.display = \"block\";\n  //... and fix the Previous/Next buttons:\n  if (n == 0) {\n    document.getElementById(\"prevBtn\").setAttribute(\"disabled\", \"true\");\n  } else {\n    document.getElementById(\"prevBtn\").style.display = \"inline\";\n    document.getElementById(\"prevBtn\").removeAttribute(\"disabled\");\n  }\n  if (n == x.length - 1) {\n    document.getElementById(\"nextBtn\").innerHTML = \"Submit\";\n    document.getElementById(\"nextBtn\").classList.add(\"submit-btn\");\n  } else {\n    document.getElementById(\"nextBtn\").classList.remove(\"submit-btn\");\n    document.getElementById(\"nextBtn\").innerHTML =\n      \"<span>Next</span><i class='cil-arrow-right pl-2 align-middle'>\";\n    $(\"button#nextBtn\").removeAttr(\"disabled\");\n    // document.getElementById(\"nexBtn\").setAttribute(\"disabled\", \"false\");\n  }\n  //... and run a function that will display the correct step indicator:\n  fixStepIndicator(n);\n}\n\nfunction nextPrev(n) {\n  // This function will figure out which tab to display\n  var x = document.getElementsByClassName(\"tab\");\n  // Exit the function if any field in the current tab is invalid:\n  if (n == 1 && !validateForm()) {\n    document.getElementById(\"nexBtn\").setAttribute(\"disabled\", \"true\");\n    document.getElementById(\"prevBtn\").setAttribute(\"disabled\", \"true\");\n    return false;\n  }\n  // Hide the current tab:\n  x[currentTab].style.display = \"none\";\n  // Increase or decrease the current tab by 1:\n  currentTab = currentTab + n;\n  // if you have reached the end of the form...\n  if (currentTab >= x.length) {\n    // ... the form gets submitted:\n\n    $(function () {\n      var userId = $.cookie(\"authUserId\");\n\n      var userType = $(\"#selected-user-type-input\").val();\n\n      var selectedDomains = [];\n      $.each($(\".select-domains option:selected\"), function () {\n        var domainName = $(this).text();\n        var domainId = $(this).attr(\"data-id\");\n        selectedDomains.push({\n          name: domainName,\n          id: domainId,\n        });\n      });\n\n      var resources = [];\n      var resourceInputs = $(\".resources\").children();\n      // get resource quantities\n      var resourcesQuantities = [];\n      $(\".resources\")\n        .find(\"input[type=text]\")\n        .each(function () {\n          resourcesQuantities.push($(this).val());\n        });\n      var resourceNames = [];\n\n      // get resource names\n      for (var i = 0; i < resourceInputs.length; i++) {\n        var resourcesHtml = resourceInputs[i].innerHTML;\n        var resourceName = $(resourcesHtml)\n          .find(\".resource-input\")\n          .attr(\"data-name\");\n        resourceNames.push(resourceName);\n      }\n\n      // put quantities and names together\n      for (var i = 0; i < resourceNames.length; i++) {\n        if (resourcesQuantities[i]) {\n          resources.push({\n            name: resourceNames[i],\n            quantity: resourcesQuantities[i],\n          });\n        }\n      }\n      var data = {\n        userId: userId,\n        userType: userType,\n        domains: selectedDomains,\n        resources: resources,\n      };\n      var authToken = $.cookie(\"authToken\");\n      $.ajax({\n        type: \"post\",\n        url: baseUrl + \"/api/users/\" + userId + \"/onboard\",\n        contentType: \"application/json\",\n        headers: { Authorization: \"Bearer \" + authToken },\n        data: JSON.stringify(data),\n        success: function (data) {\n          alert(\"User onboard!\");\n          document.getElementById(\"regForm\").submit();\n          window.location.href = \"index.html\";\n        },\n        error: function () {\n          alert(\"Onboarding failed!\");\n        },\n      });\n    });\n\n    return false;\n  }\n  // Otherwise, display the correct tab:\n  showTab(currentTab);\n}\n\nfunction validateForm() {\n  // This function deals with validation of the form fields\n  var x,\n    y,\n    i,\n    valid = true;\n  x = document.getElementsByClassName(\"tab\");\n  y = x[currentTab].getElementsByTagName(\"input\");\n\n  let selectedUserType = $(\"#selected-user-type-input\");\n  if (selectedUserType.val()) {\n    $(selectedUserType).removeClass(\"invalid\");\n    valid = true;\n  } else {\n    $(selectedUserType).addClass(\"invalid\");\n    alert(\"You must select one user type!\");\n    valid = false;\n    $(\"button#prevBtn\").attr(\"disabled\", \"true\");\n  }\n\n  var selectedDomains = [];\n  $.each($(\".select-domains option:selected\"), function () {\n    var domainName = $(this).text();\n    var domainId = $(this).attr(\"data-id\");\n    selectedDomains.push({\n      name: domainName,\n      id: domainId,\n    });\n  });\n  $(\"select.qtagselect__select.select-domains\").on(\"change\", function (e) {\n    selectedDomains = [];\n    $.each($(\".select-domains option:selected\"), function () {\n      var domainName = $(this).text();\n      var domainId = $(this).attr(\"data-id\");\n      selectedDomains.push({\n        name: domainName,\n        id: domainId,\n      });\n      console.log(selectedDomains);\n      if (selectedDomains.length < 3) {\n        $(\"button.submit-btn\").attr(\"disabled\", \"true\");\n        $(\"button#prevBtn\").attr(\"disabled\", \"true\");\n      } else {\n        $(\"button.submit-btn\").removeAttr(\"disabled\");\n        $(\"button#prevBtn\").removeAttr(\"disabled\");\n      }\n    });\n  });\n\n  if (selectedDomains.length < 3) {\n    valid = false;\n\n    alert(\"you must select at least 3 domains\");\n  }\n  // If the valid status is true, mark the step as finished and valid:\n  if (valid) {\n    document.getElementsByClassName(\"step\")[currentTab].className += \" finish\";\n  }\n  return valid; // return the valid status\n}\n\nfunction fixStepIndicator(n) {\n  // This function removes the \"active\" class of all steps...\n  var i,\n    x = document.getElementsByClassName(\"step\");\n  for (i = 0; i < x.length; i++) {\n    x[i].className = x[i].className.replace(\" active\", \"\");\n  }\n  //... and adds the \"active\" class on the current step:\n  x[n].className += \" active\";\n}\n\n$(document).ready(function () {\n  $(\".card-select-user-type\").on(\"click\", function () {\n    $(\".card-select-user-type\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n\n    let selectedTypeId = $(this).attr(\"id\");\n    if (selectedTypeId === \"single-user-card\") {\n      $(\"#selected-user-type-input\").val(\"SINGLE_USER\");\n    } else if (selectedTypeId === \"informal-group-card\") {\n      $(\"#selected-user-type-input\").val(\"INFORMAL_GROUP\");\n    } else if (selectedTypeId === \"ngo-card\") {\n      $(\"#selected-user-type-input\").val(\"NGO\");\n    } else if (selectedTypeId === \"public-institution\") {\n      $(\"#selected-user-type-input\").val(\"PUBLIC_INSTITUTION\");\n    }\n  });\n});\n\n$(document).ready(function () {\n  var authToken = $.cookie(\"authToken\");\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/resources\",\n    headers: { Authorization: \"Bearer \" + authToken },\n    success: function (response) {\n      if (response.length) {\n        for (var i = 0; i < response.length; i++) {\n          var resourceTemplate = `<div class=\"col-md-6\" id=\"resource\">\n              <div class=\"form-group\">\n                <label id=\"resource-name\">${response[i].name}</label>\n                <input class=\"form-control resource-input\" min=\"0\" id=\"resource-quantity-${i}\" data-name=\"${response[i].name}\" type=\"text\" aria-describedby=\"emailHelp\" placeholder=\"Quantity\">\n              </div>\n            </div>`;\n          $(\".resources\").append(resourceTemplate);\n        }\n      } else {\n        $(\".resources\").html(\n          \"<h6 class='text-center'>No resource available!</h6>\"\n        );\n      }\n    },\n    error: function () {\n      alert(\"Resources listing failed!\");\n    },\n  });\n\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/domains\",\n    headers: { Authorization: \"Bearer \" + authToken },\n    beforeSend: function (xhr) {\n      xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\n    },\n    success: function (response) {\n      if (response.length) {\n        for (var i = 0; i < response.length; i++) {\n          var domainTemplate = ``;\n          if (i < 3) {\n            domainTemplate = `\n              <option value=\"${i + 1}\" selected=\"\" data-id=\"${\n              response[i].id\n            }\">${response[i].name}</option>\n          `;\n          } else {\n            domainTemplate = `\n              <option value=\"${i + 1}\" data-id=\"${response[i].id}\">${\n              response[i].name\n            }</option>`;\n          }\n\n          $(\".select-domains\").append(domainTemplate);\n          initDomainTags();\n\n          $(\"option:even\").addClass(\"ispurple\");\n          $(\"option:odd\").addClass(\"isblue\");\n        }\n      } else {\n        $(\".no-domain-message\").removeClass(\"d-none\");\n      }\n    },\n    error: function () {\n      alert(\"Domains listing failed!\");\n    },\n  });\n\n  function initDomainTags() {\n    $(function () {\n      $(\".qtagselect__select\").tagselect({\n        // additional class(es) for the dropdown\n        dropClass: \"d-block\",\n        // shows the footer in the dropdown\n        dropFooter: false,\n        // is opened on page load\n        isOpen: true,\n        // maximum number of tags allowed to select\n        maxTag: 12,\n      });\n    });\n  }\n});\n"],"file":"select-user-type.js"}