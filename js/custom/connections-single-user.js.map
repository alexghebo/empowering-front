{"version":3,"sources":["../../../src/js/custom/connections-single-user.js"],"names":["$","document","ready","sortConnections","deleteConnection","authToken","cookie","window","location","href","indexOf","urlParams","URLSearchParams","search","userId","get","listConnections","getUserProfileInfo","getUsersInfo","userIds","ajax","type","url","baseUrl","contentType","headers","Authorization","crossDomain","success","response","userIdConnect","userCity","locationCity","userCountry","locationCountry","userType","usersName","name","userDomains","j","domains","length","push","connectionPictures","connectionPic","profilePicture","connectionTemplate","join","append","html","i","connections","on","connectionId","attr","reload","value","val","toLowerCase","children","each","text","toggle","nameGroup","nameNGO","namePInstitution","data","showEmail","email","hide","addClass","imgWidth","width","imgHeight","height","css","removeClass"],"mappings":"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","sourcesContent":["$(document).ready(function () {\n  sortConnections();\n  deleteConnection();\n  var authToken = $.cookie(\"authToken\");\n\n  if (window.location.href.indexOf(\"userId=\") > -1) {\n    var urlParams = new URLSearchParams(window.location.search);\n    var userId = urlParams.get(\"userId\");\n    listConnections(userId, authToken);\n    getUserProfileInfo(userId, authToken);\n  } else {\n    var userId = $.cookie(\"authUserId\");\n    listConnections(userId, authToken);\n    getUserProfileInfo(userId, authToken);\n  }\n\n  async function getUsersInfo(userIds) {\n    var authToken = $.cookie(\"authToken\");\n    $.ajax({\n      type: \"GET\",\n      url: baseUrl + \"/api/users/\" + userIds,\n      contentType: \"application/json\",\n      headers: {\n        Authorization: \"Bearer \" + authToken,\n      },\n      crossDomain: true,\n      success: function (response) {\n        var userIdConnect = response.userId;\n        var userCity = response.locationCity;\n        var userCountry = response.locationCountry;\n        var userType = response.userType;\n        var usersName = response.name;\n        var userDomains = [];\n        for (var j = 0; j < response.domains.length; j++) {\n          userDomains.push(response.domains[j].name);\n        }\n        var connectionPictures = ``;\n        var connectionPic = response.profilePicture;\n        if (response.profilePicture) {\n          connectionPictures = `\n          <div class=\"image-connection-wrapper\">\n            <a class=\"h-100 w-100\" href=\"user-profile-view.html?userId=${response.userId}\" class=\"h-100 w-100\">\n              <img class=\"image-invitation d-block\" src=\"https://api.youth-initiatives.com/api/attachments/${connectionPic}\" alt=\"connection picture\">\n            </a>\n          </div>`;\n        } else {\n          connectionPictures = `\n          <div class=\"image-connection-wrapper\">\n            <a class=\"h-100 w-100\" href=\"user-profile-view.html?userId=${response.userId}\" class=\"h-100 w-100\">\n              <img class=\"image-invitation d-block\" src=\"https://via.placeholder.com/80 \" alt=\"connection picture\">\n            </a>\n          </div>`;\n        }\n        var connectionTemplate = `\n            <div class=\"col-md-6 h-100\" id=\"connections-filter\">\n            <div class=\"border border-secondary mt-3 h-100 position-relative\">\n              <div class=\"row no-gutters\">\n              <div class=\"col-12 col-md-auto p-3\">${connectionPictures}</div>\n              <div class=\"card-body col p-3\">\n                  <a href=\"user-profile-view.html?userId=${userIdConnect}\">\n                    <p class=\"card-title name font-weight-bold p-0 m-0\">${usersName}</p>\n                  </a>\n                  <p class=\"location text-muted p-0 m-0\"><i class=\"cil-location-pin\">${userCity}, ${userCountry}</i></p>\n                    <p class=\"mb-0 domains\">${userDomains.join(\", \")}</p>\n             </div>\n              </div>\n            </div>\n            <button class=\"bg-transparent button-edit-connection position-absolute border-0\" type=\"button\" data-toggle=\"dropdown\" data-id=\"${userIdConnect}\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n                <defs>\n                  <style>\n                    .stroke {\n                      fill: none;\n                      stroke: transparent;\n                    }\n\n                    .b {\n                      fill: #808e9b;\n                    }\n                  </style>\n                </defs>\n                <g transform=\"translate(-1318 -447)\">\n                  <rect class=\"stroke\" width=\"32\" height=\"32\" rx=\"4\" transform=\"translate(1318 447)\"></rect>\n                  <circle class=\"b\" cx=\"2\" cy=\"2\" r=\"2\" transform=\"translate(1326 461)\"></circle>\n                  <circle class=\"b\" cx=\"2\" cy=\"2\" r=\"2\" transform=\"translate(1332 461)\"></circle>\n                  <circle class=\"b\" cx=\"2\" cy=\"2\" r=\"2\" transform=\"translate(1338 461)\"></circle>\n                </g>\n              </svg>\n            </button>\n            <div class=\"dropdown-menu\">\n              <a class=\"dropdown-item\" id=\"delete-user\" data-connection-id=\"${userIdConnect}\">Delete user</a>\n            </div>`;\n        if (userType === \"SINGLE_USER\") {\n          $(\".single-user-connections\").append(connectionTemplate);\n        } else if (userType === \"INFORMAL_GROUP\") {\n          $(\".my-groups-connections\").append(connectionTemplate);\n        } else if (userType === \"NGO\") {\n          $(\".ngos-connections\").append(connectionTemplate);\n        } else if (userType === \"PUBLIC_INSTITUTION\") {\n          $(\".public-institutions-connections\").append(connectionTemplate);\n        }\n      },\n    });\n  }\n\n  function listConnections(userId, authToken) {\n    $.ajax({\n      url: baseUrl + \"/api/users/\" + userId,\n      type: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + authToken,\n      },\n      success: function (response) {\n        if (userId !== $.cookie(\"authUserId\")) {\n          $(\".username-connections\").html(response.name + \"'s connections\");\n        }\n        var userIds = [];\n        for (var i = 0; i < response.connections.length; i++) {\n          userIds.push(response.connections[i].userId);\n        }\n        if (userIds.length) {\n          for (var i = 0; i < userIds.length; i++) {\n            if (userIds[i] === $.cookie(\"authUserId\")) {\n              continue;\n            }\n            getUsersInfo(userIds[i]);\n          }\n        } else {\n          if (userType === \"SINGLE_USER\") {\n            $(\".single-user-connections\").append(\n              \"You don't have any connections\"\n            );\n          } else if (userType === \"INFORMAL_GROUP\") {\n            $(\".my-groups-connections\").append(\n              \"You don't have any connections\"\n            );\n          } else if (userType === \"NGO\") {\n            $(\".ngos-connections\").append(\"You don't have any connections\");\n          } else if (userType === \"PUBLIC_INSTITUTION\") {\n            $(\".public-institutions-connections\").append(\n              \"You don't have any connections\"\n            );\n          }\n        }\n      },\n    });\n  }\n\n  function deleteConnection() {\n    $(document).on(\"click\", \"a#delete-user\", function () {\n      let userId = $.cookie(\"authUserId\");\n      let authToken = $.cookie(\"authToken\");\n      var connectionId = $(this).attr(\"data-connection-id\");\n      $.ajax({\n        type: \"DELETE\",\n        url: baseUrl + \"/api/users/\" + userId + \"/connection/\" + connectionId,\n        contentType: \"application/json\",\n        headers: {\n          Authorization: \"Bearer \" + authToken,\n        },\n        crossDomain: true,\n        success: function (response) {\n          location.reload(true);\n        },\n      });\n    });\n  }\n\n  function sortConnections() {\n    $(document).on(\"keyup\", \"input#filterConnections\", function () {\n      var value = $(this).val().toLowerCase();\n      $(\".single-user-connections\")\n        .children()\n        .each(function () {\n          var name = $(this).text().toLowerCase();\n\n          $(this).toggle(name.toLowerCase().indexOf(value) > -1);\n        });\n      $(\".my-groups-connections\")\n        .children()\n        .each(function () {\n          var nameGroup = $(this).text().toLowerCase();\n\n          $(this).toggle(nameGroup.toLowerCase().indexOf(value) > -1);\n        });\n      $(\".ngos-connections\")\n        .children()\n        .each(function () {\n          var nameNGO = $(this).text().toLowerCase();\n\n          $(this).toggle(nameNGO.toLowerCase().indexOf(value) > -1);\n        });\n      $(\".public-institutions-connections\")\n        .children()\n        .each(function () {\n          var namePInstitution = $(this).text().toLowerCase();\n\n          $(this).toggle(namePInstitution.toLowerCase().indexOf(value) > -1);\n        });\n    });\n  }\n});\nfunction getUserProfileInfo(userId, authToken) {\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/users/\" + userId,\n    headers: { Authorization: \"Bearer \" + authToken },\n    crossDomain: true,\n    success: function (data) {\n      // display user name\n      $(\".user-name\").html(data.name);\n      $(\"h6#post-username\").html(data.name);\n      // display user type\n      let userType = data.userType;\n      if (userType === \"SINGLE_USER\") {\n        $(\".user-type\").html(\"Single user\");\n      } else if (userType === \"INFORMAL_GROUP\") {\n        $(\".user-type\").html(\"Informal group\");\n      } else if (userType === \"NGO\") {\n        $(\".user-type\").html(\"NGO\");\n      } else if (userType === \"PUBLIC_INSTITUTION\") {\n        $(\".user-type\").html(\"Public institution\");\n      } else {\n        $(\".user-type\").html(\"USER TYPE NOT SET\");\n      }\n\n      // display user location\n      $(\".user-location\").html(data.locationCity + \", \" + data.locationCountry);\n\n      // display user-email\n      if (data.showEmail) {\n        $(\".user-email\").html(data.email);\n      } else {\n        $(\".user-email\").hide();\n      }\n\n      // display modal infos\n      $(\"input#edit-details-firstname\").val(data.name);\n      $(\"input#edit-details-lastname\").val(data.name);\n      $(\"input#edit-details-country\").val(data.locationCountry);\n      $(\"input#edit-details-city\").val(data.locationCity);\n\n      // get user profile picture\n      if (data.profilePicture) {\n        $(\"img.profile-picture\").attr(\n          \"src\",\n          \"https://api.youth-initiatives.com/api/attachments/\" +\n            data.profilePicture\n        );\n        $(\".profile-picture-post img\").attr(\n          \"src\",\n          \"https://api.youth-initiatives.com/api/attachments/\" +\n            data.profilePicture\n        );\n        $(\".d-none-if-picture-not-exists\").addClass(\"d-none\");\n        var imgWidth = $(\"img.profile-picture\").width();\n        var imgHeight = $(\"img.profile-picture\").height();\n\n        if (imgWidth > imgHeight) {\n          $(\"img.profile-picture\").css(\"width\", \"100%\");\n        } else {\n          $(\"img.profile-picture\").css(\"height\", \"100%\");\n        }\n      } else {\n        $(\".profile-placeholder\").removeClass(\"d-none\");\n        $(\".profile-pic\").addClass(\"d-none\");\n        $(\".profile-picture-post\").addClass(\"d-none\");\n      }\n    },\n  });\n}\n"],"file":"connections-single-user.js"}