{"version":3,"sources":["../../../src/js/custom/jquery.tagselect.js"],"names":["$","window","fn","tagselect","options","settings","extend","each","self","is","E","init","_this","createElems","bind","hideDrop","undelegate","delegate","e","stopPropagation","showDrop","showOpt","removeOpt","_opt","_container","_hd","_drop","attr","class","createHd","children","dropClass","createOptions","createDropFooter","append","els","id","hd","field","selectOpt","selectsubOpt","_class","index","el","subel","push","text","find","length","placeholder","join","_val","_isdisabled","_isselected","_title","val","_subopt","_subval","_subtitle","_subclass","_subdisabled","_subisselect","html","dropFooter","parent","closest","select","hasClass","addClass","removeClass","ul","remove","maxTag","slice","trigger","tagParent","tagMessageStyle","tagMessage","fadeIn","tagMessageHide","setTimeout","fadeOut","opt","siblings","removeAttr","prepend","jQuery"],"mappings":"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","sourcesContent":["/**\n * Created by v_lhuilan on 2018/5/10.\n * 有重复冗余代码待精简（optgroup）\n */\n\n\n;(function($, window) {\n  $.fn.tagselect = function(options) {\n\n    var settings = $.extend({\n      'class': '',\n      'placeholder': 'Select Tags',\n      'dropClass': '',\n      'dropFooter': true,\n      'isOpen': false,\n      'maxTag': 4,\n      'tagParent': 'qmain',\n      'tagMessage': 'Up To 4 Tags',\n      'tagMessageHide': '3000',\n      'tagMessageStyle': ''\n    }, options);\n\n    return this.each(function() {\n      var self = this;\n      if (this.tagselect || !$(this).is('select')) {\n        return;\n      }\n      this.tagselect = {\n        E: $(self),\n        init: function() {\n          var _this = this;\n          _this.createElems();\n          // _this.showDrop();\n          // $(\"body\").unbind('click');\n          $(\"body\").bind('click', _this.hideDrop);\n\n          $(\"body\").undelegate('.qtagselect', 'click');\n          $(\"body\").delegate('.qtagselect', 'click', function(e) {\n            e.stopPropagation();\n          });\n\n          $(\"body\").undelegate('.qtagselect__choices', 'click');\n          $(\"body\").delegate('.qtagselect__choices', 'click', _this.showDrop);\n\n          $(\"body\").undelegate('.qtagselect__closelink', 'click');\n          $(\"body\").delegate('.qtagselect__closelink', 'click', _this.hideDrop);\n\n          $(\"body\").undelegate('.qtagselect__option', 'click');\n          $(\"body\").delegate('.qtagselect__option', 'click', _this.showOpt);\n\n          $(\"body\").undelegate('.qtagselect__del', 'click');\n          $(\"body\").delegate('.qtagselect__del', 'click', _this.removeOpt);\n\n\n          return _this;\n        },\n        createElems: function() {\n          var _this = this, _opt = '', _container = '', _hd = '', _drop = '';\n          if (_this.E.attr('disabled')) {\n            settings.class += ' isdisabled';\n          }\n\n          _hd = _this.createHd(_this.E.children());\n          _drop = '<div class=\"qtagselect__drop' + (settings.dropClass === '' ? '' : ' ' + settings.dropClass) + '\"><ul class=\"qtagselect__results\">' + _this.createOptions(_this.E.children()) + '</ul>' + _this.createDropFooter() + '</div>';\n\n          _container = '<div class=\"qtagselect__container\">' + _hd + _drop + '</div>';\n          $('.qtagselect').append(_container);\n        },\n        createHd: function(els) {\n          var _this = this, id = 0, hd = '', field = '', selectOpt = [], selectsubOpt = [], _class = '';\n\n          els.each(function(index, el) {\n            id += 1;\n            _class = $(el).attr('class') ? ' ' + $(el).attr('class') : '';\n            if ($(el).is('optgroup')) {\n              $(el).children().each(function(index, subel) {\n                id += 1;\n                if ($(subel).attr('selected')) {\n                  selectOpt.push('<li class=\"qtagselect__choice ' + _class + '\" data-cid=\"' + id + '\"><span>' + $(subel).text() + '</span><a class=\"qtagselect__del\"></a></li>');\n                }\n              })\n            } else {\n              if ($(el).attr('selected')) {\n                selectOpt.push('<li class=\"qtagselect__choice ' + _class + '\" data-cid=\"' + id + '\"><span>' + $(el).text() + '</span><a class=\"qtagselect__del\"></a></li>');\n              }\n            }\n          })\n          // console.log(_this.E.find('[selected]').length)\n          if (_this.E.find('[selected]').length > 0) {\n            field = '<li class=\"qtagselect__field\"><span class=\"qtagselect__btn\"></span></li>';\n          } else {\n            field = '<li class=\"qtagselect__field\"><span class=\"qtagselect__placeholder\">' + settings.placeholder + '</span><span class=\"qtagselect__btn\"></span></li>';\n          }\n\n          hd = '<ul class=\"qtagselect__choices\">' + selectOpt.join('') + field + '</ul>';\n          return hd;\n        },\n        createOptions: function(els) {\n          var _this = this, id = 0, _opt = [], _drop = '', _val = '', _isdisabled = '', _isselected = '', _class = '',\n              _title = '';\n          els.each(function(index, el) {\n            id += 1;\n            // console.log(index, id)\n            _val = $(el).attr('value') ? 'data-value=' + $(el).val() : '';\n            _title = $(el).attr('title') ? 'title=' + $(el).attr('title') : '';\n            _class = $(el).attr('class') ? ' ' + $(el).attr('class') : '';\n            _isdisabled = $(el).attr('disabled') ? ' isdisabled' : '';\n            _isselected = $(el).attr('selected') ? ' isselected' : '';\n\n            if ($(el).is('optgroup')) {\n              var _subopt = [];\n              // console.log(id)\n              $(el).children().each(function(index, subel) {\n                id += 1;\n                // console.log(index, id)\n                var _subval = '', _subtitle = '', _subclass = '', _subdisabled = '', _subisselect = '';\n                _subval = $(subel).attr('value') ? 'data-value=' + $(subel).val() : '';\n                _subtitle = $(subel).attr('title') ? 'title=' + $(subel).attr('title') : '';\n                _subclass = $(subel).attr('class') ? ' ' + $(subel).attr('class') : '';\n                _subdisabled = $(subel).attr('disabled') ? ' isdisabled' : '';\n                _subisselect = $(subel).attr('selected') ? ' isselected' : '';\n                _subopt.push('<li class=\"qtagselect__option' + _subclass + _subdisabled + _subisselect + '\" data-rid=\"' + id + '\" ' + _subval + _subtitle + '>' + $(subel).html() + '</li>');\n              })\n              _opt.push('<li class=\"qtagselect__group' + _class + _isdisabled + '\"><div class=\"qtagselect__group_label\">' + $(el).attr('label') + '</div><ul>' + _subopt.join('') + '</ul></li>')\n            } else {\n              _opt.push('<li class=\"qtagselect__option' + _class + _isdisabled + _isselected + '\" data-rid=\"' + id + '\" ' + _val + _title + '>' + $(el).html() + '</li>');\n            }\n          })\n          // _drop = '<div class=\"qtagselect__drop' + (settings.dropClass === '' ? '' : ' ' + settings.dropClass) + '\"><ul class=\"qtagselect__results\">' + _opt.join('') + '</ul></div>';\n          return _opt.join('');\n        },\n        createDropFooter: function() {\n          var _this = this, dropFooter = '';\n          if (settings.dropFooter) {\n            dropFooter = '<div class=\"qtagselect__drop__ft\"><a href=\"javascript:void(0);\" class=\"qtagselect__closelink\">Close<span class=\"qtagselect__triangle\"></span></a></div>';\n          }\n          return dropFooter;\n        },\n        showDrop: function(e) {\n          var _this = $(this);\n          var parent = _this.closest('.qtagselect');\n          var select = parent.find('select');\n          if (select.attr('disabled') || parent.hasClass('isdisabled')) {\n            return;\n          }\n          parent.addClass('isopen');\n          e.stopPropagation();\n        },\n        hideDrop: function() {\n          var _this = $(this);\n          var parent = _this.closest('.qtagselect');\n          if (parent.length > 0) {\n            parent.removeClass('isopen');\n\n          } else {\n            $('.qtagselect').removeClass('isopen');\n          }\n\n        },\n        showOpt: function(e) {\n          var _this = $(this), _class = '';\n          var parent = _this.closest('.qtagselect');\n          var ul = parent.find('.qtagselect__choices');\n          if (_this.hasClass('isselected') || _this.hasClass('isdisabled')) {\n            return;\n          }\n          ul.find('.qtagselect__field .qtagselect__placeholder').remove();\n\n          // console.log(ul.find('.qtagselect__choice').length)\n          if (ul.find('.qtagselect__choice').length < settings.maxTag) {\n            _class = _this.attr('class').slice(19);\n            ul.append('<li class=\"qtagselect__choice ' + _class + '\" data-cid=\"' + _this.attr(\"data-rid\") + '\"><span>' + _this.html() + '</span><a class=\"qtagselect__del\"></a></li>');\n            _this.addClass('isselected');\n            if (parent.find('.qtagselect__select').val() == _this.attr('data-value')) {\n\n            }\n            parent.find('.qtagselect__select').find('option[value=\"' + _this.attr('data-value') + '\"]').attr(\"selected\", true);\n            parent.find('.qtagselect__select').trigger('change');\n            // console.log(_this.attr('data-value'), parent.find('.qtagselect__select').find('option[value=\"1\"]').text());\n          } else {\n            $('.' + settings.tagParent).append('<div class=\"qtagselect__toast\" style=\"' + settings.tagMessageStyle + '\">' + settings.tagMessage + '</div>')\n            $('.qtagselect__toast').fadeIn();\n            if (settings.tagMessageHide !== 'false') {\n              window.setTimeout(function() {\n                $('.qtagselect__toast').fadeOut(function() {\n                  $(this).remove();\n                });\n              }, settings.tagMessageHide);\n\n            }\n          }\n          e.stopPropagation();\n        },\n        removeOpt: function(e) {\n          var _this = $(this);\n          var parent = _this.closest('.qtagselect__choice');\n          var ul = parent.closest('.qtagselect__choices');\n          var opt = ul.siblings('.qtagselect__drop').find('[data-rid=\"' + parent.attr('data-cid') + '\"]');\n          parent.remove();\n          opt.removeClass('isselected');\n\n          ul.closest('.qtagselect').find('.qtagselect__select').find('option[value=\"' + opt.attr('data-value') + '\"]').removeAttr(\"selected\");\n          // parent.find('.qtagselect__select').find('option[value=\"' + _this.attr('data-value') + '\"]').attr(\"selected\", true);\n          ul.closest('.qtagselect').find('.qtagselect__select').trigger('change');\n          // console.log(ul.closest('.qtagselect').find('.qtagselect__select').val(),opt.attr('data-value'));\n          if (!ul.find('.qtagselect__choice').length > 0) {\n            ul.find('.qtagselect__field').prepend('<span class=\"qtagselect__placeholder\">' + settings.placeholder + '</span>');\n          }\n          e.stopPropagation();\n        }\n      };\n\n      self.tagselect.init();\n    })\n  };\n}(jQuery, window));\n"],"file":"jquery.tagselect.js"}