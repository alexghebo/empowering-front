{"version":3,"sources":["../../../src/js/custom/fm.tagator.jquery.js"],"names":["$","tagator","source_element","options","defaults","prefix","height","useDimmer","showAllOptionsOnFocus","allowAutocompleteOnly","autocomplete","self","selected_index","$source_element","$tagator_element","$tags_element","$placeholder_element","$input_element","$textlength_element","$options_element","key","backspace","enter","escape","left","up","right","down","comma","settings","init","extend","length","$dimmer_element","document","createElement","attr","hide","body","prepend","id","undefined","addClass","css","padding","position","parseInt","width","outerHeight","after","visibility","append","change","refreshTags","bind","e","preventDefault","stopPropagation","showOptions","focus","setSelectionRange","val","createTextRange","range","collapse","moveEnd","moveStart","select","searchOptions","keyCode","which","find","refreshActiveOption","scrollToActiveOption","addTag","resizeInput","selectOption","substring","lastIndexOf","trigger","refreshPlaceholder","hideOptions","hasClass","is","html","refresh","empty","tags","split","each","value","checkAllowedTag","$tag_element","$button_remove_element","data","removeTag","$clear_element","show","text","tagsBefore","tagsAfter","push","join","hasTag","trim","replace","optionsArray","toLowerCase","indexOf","generateOptions","index","option","createOption","selected","removeClass","eq","$active_element","scrollTop","top","destroy","remove","removeData","fn","parameters","arguments","plugin","apply","Array","prototype","slice","call","error","jQuery","$this","value_temp","toString","parseJSON"],"mappings":"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","sourcesContent":["/*\n Tagator jQuery Plugin\n A plugin to make input elements, tag holders\n version 1.2, Aug 9th, 2016\n by Ingi á Steinamørk\n\n The MIT License (MIT)\n\n Copyright (c) 2014 Qodio\n\n Permission is hereby granted, free of charge, to any person obtaining a copy of\n this software and associated documentation files (the \"Software\"), to deal in\n the Software without restriction, including without limitation the rights to\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n the Software, and to permit persons to whom the Software is furnished to do so,\n subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n(function ($) {\n\t$.tagator = function (source_element, options) {\n\t\tvar defaults = {\n\t\t\tprefix:                'tagator_',\n\t\t\theight:                'auto',\n\t\t\tuseDimmer:             false,\n\t\t\tshowAllOptionsOnFocus: false,\n\t\t\tallowAutocompleteOnly: false,\n\t\t\tautocomplete:          []\n\t\t};\n\n\t\tvar self = this;\n\t\tvar selected_index = -1;\n\t\tvar $source_element = $(source_element);\n\t\tvar $tagator_element = null;\n\t\tvar $tags_element = null;\n\t\tvar $placeholder_element = null;\n\t\tvar $input_element = null;\n\t\tvar $textlength_element = null;\n\t\tvar $options_element = null;\n\t\tvar key = {\n\t\t\tbackspace: 8,\n\t\t\tenter:     13,\n\t\t\tescape:    27,\n\t\t\tleft:      37,\n\t\t\tup:        38,\n\t\t\tright:     39,\n\t\t\tdown:      40,\n\t\t\tcomma:     188\n\t\t};\n\t\tself.settings = {};\n\n\n\t\t// INITIALIZE PLUGIN\n\t\tself.init = function () {\n\t\t\tself.settings = $.extend({}, defaults, options);\n\n\t\t\t//// ================== CREATE ELEMENTS ================== ////\n\t\t\t// dimmer\n\t\t\tif (self.settings.useDimmer) {\n\t\t\t\tif ($('#' + self.settings.prefix + 'dimmer').length === 0) {\n\t\t\t\t\tvar $dimmer_element = $(document.createElement('div'));\n\t\t\t\t\t$dimmer_element.attr('id', self.settings.prefix + 'dimmer');\n\t\t\t\t\t$dimmer_element.hide();\n\t\t\t\t\t$(document.body).prepend($dimmer_element);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// box element\n\t\t\t$tagator_element = $(document.createElement('div'));\n\t\t\tif ($source_element[0].id !== undefined) {\n\t\t\t\t$tagator_element.attr('id', self.settings.prefix + $source_element[0].id);\n\t\t\t}\n\t\t\t$tagator_element.addClass(self.settings.prefix + 'element options-hidden');\n\t\t\t$tagator_element.css({\n\t\t\t\tpadding:     $source_element.css('padding'),\n\t\t\t\t'flex-grow': $source_element.css('flex-grow'),\n\t\t\t\tposition:    'relative'\n\t\t\t});\n\t\t\tif (parseInt($source_element.css('width')) !== 0) {\n\t\t\t\t$tagator_element.css({\n\t\t\t\t\twidth: $source_element.css('width')\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (self.settings.height === 'element') {\n\t\t\t\t$tagator_element.css({\n\t\t\t\t\theight: $source_element.outerHeight + 'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\t$source_element.after($tagator_element);\n\t\t\t$source_element.hide();\n\t\t\t// textlength element\n\t\t\t$textlength_element = $(document.createElement('span'));\n\t\t\t$textlength_element.addClass(self.settings.prefix + 'textlength');\n\t\t\t$textlength_element.css({\n\t\t\t\tposition:   'absolute',\n\t\t\t\tvisibility: 'hidden'\n\t\t\t});\n\t\t\t$tagator_element.append($textlength_element);\n\t\t\t// tags element\n\t\t\t$tags_element = $(document.createElement('div'));\n\t\t\t$tags_element.addClass(self.settings.prefix + 'tags');\n\t\t\t$tagator_element.append($tags_element);\n\t\t\t// placeholder element\n\t\t\t$placeholder_element = $(document.createElement('div'));\n\t\t\t$placeholder_element.addClass(self.settings.prefix + 'placeholder');\n\t\t\t$tagator_element.append($placeholder_element);\n\t\t\t// input element\n\t\t\t$input_element = $(document.createElement('input'));\n\t\t\t$input_element.addClass(self.settings.prefix + 'input');\n\t\t\t$input_element.width(20);\n\t\t\t$input_element.attr('autocomplete', 'false');\n\t\t\t$tagator_element.append($input_element);\n\t\t\t// options element\n\t\t\t$options_element = $(document.createElement('ul'));\n\t\t\t$options_element.addClass(self.settings.prefix + 'options');\n\n\t\t\t$tagator_element.append($options_element);\n\n\t\t\t//// ================== BIND ELEMENTS EVENTS ================== ////\n\t\t\t// source element\n\t\t\t$source_element.change(function () {\n\t\t\t\trefreshTags();\n\t\t\t});\n\t\t\t// box element\n\t\t\t$tagator_element.bind('focus', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tshowOptions();\n\t\t\t\t$input_element.focus();\n\t\t\t});\n\t\t\t$tagator_element.bind('mousedown', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\t$input_element.focus();\n\t\t\t\tif ($input_element[0].setSelectionRange) {\n\t\t\t\t\t$input_element.focus();\n\t\t\t\t\t$input_element[0].setSelectionRange($input_element.val().length, $input_element.val().length);\n\t\t\t\t} else if ($input_element[0].createTextRange) {\n\t\t\t\t\tvar range = $input_element[0].createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveEnd('character', $input_element.val().length);\n\t\t\t\t\trange.moveStart('character', $input_element.val().length);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t});\n\t\t\t$tagator_element.bind('mouseup', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t$tagator_element.bind('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (self.settings.showAllOptionsOnFocus) {\n\t\t\t\t\t//showOptions();\n\t\t\t\t\tsearchOptions();\n\t\t\t\t}\n\t\t\t\t$input_element.focus();\n\t\t\t});\n\t\t\t$tagator_element.bind('dblclick', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\t$input_element.focus();\n\t\t\t\t$input_element.select();\n\t\t\t});\n\t\t\t// input element\n\t\t\t$input_element.bind('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t$input_element.bind('dblclick', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t$input_element.bind('keydown', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tvar keyCode = e.keyCode || e.which;\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase key.up:\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (selected_index > -1) {\n\t\t\t\t\t\t\tselected_index = selected_index - 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselected_index = $options_element.find('.' + self.settings.prefix + 'option').length - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\trefreshActiveOption();\n\t\t\t\t\t\tscrollToActiveOption();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase key.down:\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (selected_index < $options_element.find('.' + self.settings.prefix + 'option').length - 1) {\n\t\t\t\t\t\t\tselected_index = selected_index + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselected_index = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\trefreshActiveOption();\n\t\t\t\t\t\tscrollToActiveOption();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase key.escape:\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase key.comma:\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (selected_index === -1) {\n\t\t\t\t\t\t\tif ($input_element.val() !== '') {\n\t\t\t\t\t\t\t\taddTag($input_element.val());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresizeInput();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase key.enter:\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (selected_index !== -1) {\n\t\t\t\t\t\t\tselectOption();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ($input_element.val() !== '') {\n\t\t\t\t\t\t\t\taddTag($input_element.val());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresizeInput();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase key.backspace:\n\t\t\t\t\t\tif ($input_element.val() === '') {\n\t\t\t\t\t\t\t$source_element.val($source_element.val().substring(0, $source_element.val().lastIndexOf(',')));\n\t\t\t\t\t\t\t$source_element.trigger('change');\n\t\t\t\t\t\t\tsearchOptions();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresizeInput();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tresizeInput();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\trefreshPlaceholder();\n\t\t\t});\n\t\t\t$input_element.bind('keyup', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tvar keyCode = e.keyCode || e.which;\n\t\t\t\tif (keyCode === key.escape || keyCode === key.enter) {\n\t\t\t\t\thideOptions();\n\t\t\t\t} else if (keyCode < 37 || keyCode > 40) {\n\t\t\t\t\tsearchOptions();\n\t\t\t\t}\n\t\t\t\tif ($tagator_element.hasClass('options-hidden') && (keyCode === key.left || keyCode === key.right || keyCode === key.up || keyCode === key.down)) {\n\t\t\t\t\tsearchOptions();\n\t\t\t\t}\n\t\t\t\tresizeInput();\n\t\t\t\trefreshPlaceholder();\n\t\t\t});\n\t\t\t$input_element.bind('focus', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tif (!$options_element.is(':empty') || self.settings.showAllOptionsOnFocus) {\n\t\t\t\t\tsearchOptions();\n\t\t\t\t\tshowOptions();\n\t\t\t\t}\n\t\t\t});\n\t\t\t$input_element.bind('blur', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\thideOptions();\n\t\t\t});\n\t\t\trefreshTags();\n\t\t};\n\n\n\t\t// RESIZE INPUT\n\t\tvar resizeInput = function () {\n\t\t\t$textlength_element.html($input_element.val());\n\t\t\t$input_element.css({width: ($textlength_element.width() + 20) + 'px'});\n\t\t};\n\n\n\t\t// SET AUTOCOMPLETE LIST\n\t\tself.autocomplete = function (autocomplete) {\n\t\t\tself.settings.autocomplete = autocomplete !== undefined ? autocomplete : [];\n\t\t};\n\n\n\t\t// REFRESH TAGS\n\t\tself.refresh = function () {\n\t\t\trefreshTags();\n\t\t};\n\t\tvar refreshTags = function () {\n\t\t\t$tags_element.empty();\n\t\t\tvar tags = $source_element.val().split(',');\n\t\t\t$.each(tags, function (key, value) {\n\t\t\t\tif (value !== '' && checkAllowedTag(value)) {\n\t\t\t\t\tvar $tag_element = $(document.createElement('div'));\n\t\t\t\t\t$tag_element.addClass(self.settings.prefix + 'tag');\n\t\t\t\t\t$tag_element.html(value);\n\t\t\t\t\t// remove button\n\t\t\t\t\tvar $button_remove_element = $(document.createElement('div'));\n\t\t\t\t\t$button_remove_element.data('text', value);\n\t\t\t\t\t$button_remove_element.addClass(self.settings.prefix + 'tag_remove');\n\t\t\t\t\t$button_remove_element.bind('mousedown', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t\t$button_remove_element.bind('mouseup', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tremoveTag($(this).data('text'));\n\t\t\t\t\t\t$source_element.trigger('change');\n\t\t\t\t\t});\n\t\t\t\t\t$button_remove_element.html('X');\n\t\t\t\t\t$tag_element.append($button_remove_element);\n\t\t\t\t\t// clear\n\t\t\t\t\tvar $clear_element = $(document.createElement('div'));\n\t\t\t\t\t$clear_element.css('clear', 'both');\n\t\t\t\t\t$tag_element.append($clear_element);\n\n\t\t\t\t\t$tags_element.append($tag_element);\n\t\t\t\t}\n\t\t\t});\n\t\t\trefreshPlaceholder();\n\t\t\tsearchOptions();\n\t\t};\n\n\t\t// REFRESH PLACEHOLDER\n\t\tvar refreshPlaceholder = function () {\n\t\t\tif ($tags_element.is(':empty') && !$input_element.val() && $source_element.attr('placeholder')) {\n\t\t\t\t$placeholder_element.html($source_element.attr('placeholder'));\n\t\t\t\t$placeholder_element.show();\n\t\t\t} else {\n\t\t\t\t$placeholder_element.hide();\n\t\t\t}\n\t\t};\n\n\t\t// REMOVE TAG FROM ORIGINAL ELEMENT\n\t\tvar removeTag = function (text) {\n\t\t\tvar tagsBefore = $source_element.val().split(',');\n\t\t\tvar tagsAfter = [];\n\t\t\t$.each(tagsBefore, function (key, value) {\n\t\t\t\tif (value !== text && value !== '') {\n\t\t\t\t\ttagsAfter.push(value);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$source_element.val(tagsAfter.join(','));\n\t\t};\n\n\t\t// CHECK IF TAG IS PRESENT\n\t\tvar hasTag = function (text) {\n\t\t\tvar tags = $source_element.val().split(',');\n\t\t\tvar hasTag = false;\n\t\t\t$.each(tags, function (key, value) {\n\t\t\t\tif ($.trim(value) === $.trim(text)) {\n\t\t\t\t\thasTag = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn hasTag;\n\t\t};\n\n\t\t// CHECK IF TAG IS ALLOWED\n\t\tvar checkAllowedTag = function (text) {\n\t\t\tif (!self.settings.allowAutocompleteOnly) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar checkAllowedTag = false;\n\t\t\t$.each(self.settings.autocomplete, function (key, value) {\n\t\t\t\tif ($.trim(value) === $.trim(text)) {\n\t\t\t\t\tcheckAllowedTag = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn checkAllowedTag;\n\t\t};\n\n\t\t// ADD TAG TO ORIGINAL ELEMENT\n\t\tvar addTag = function (text) {\n\t\t\tif (!hasTag(text) && checkAllowedTag(text)) {\n\t\t\t\t$source_element.val($source_element.val() + ($source_element.val() !== '' ? ',' : '') + text);\n\t\t\t\t$source_element.trigger('change');\n\t\t\t}\n\t\t\t$input_element.val('');\n\t\t\t$tagator_element.focus();\n\t\t\thideOptions();\n\t\t};\n\n\t\t// OPTIONS SEARCH METHOD\n\t\tvar searchOptions = function () {\n\t\t\t$options_element.empty();\n\t\t\tif ($input_element.val().replace(/\\s/g, '') !== '' || self.settings.showAllOptionsOnFocus) {\n\t\t\t\tvar optionsArray = [];\n\t\t\t\t$.each(self.settings.autocomplete, function (key, value) {\n\t\t\t\t\tif (value.toLowerCase().indexOf($input_element.val().toLowerCase()) !== -1) {\n\t\t\t\t\t\tif (!hasTag(value)) {\n\t\t\t\t\t\t\toptionsArray.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgenerateOptions(optionsArray);\n\t\t\t}\n\t\t\tif ($input_element.is(':focus')) {\n\t\t\t\tif (!$options_element.is(':empty')) {\n\t\t\t\t\tshowOptions();\n\t\t\t\t} else {\n\t\t\t\t\thideOptions();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thideOptions();\n\t\t\t}\n\t\t\tselected_index = -1;\n\t\t};\n\n\t\t// GENERATE OPTIONS\n\t\tvar generateOptions = function (optionsArray) {\n\t\t\tvar index = -1;\n\t\t\t$(optionsArray).each(function (key, value) {\n\t\t\t\tindex++;\n\t\t\t\tvar option = createOption(value, index);\n\t\t\t\t$options_element.append(option);\n\t\t\t});\n\t\t\trefreshActiveOption();\n\t\t};\n\n\t\t// CREATE RESULT OPTION\n\t\tvar createOption = function (text, index) {\n\t\t\t// holder li\n\t\t\tvar option = document.createElement('li');\n\t\t\t$(option).data('index', index);\n\t\t\t$(option).data('text', text);\n\t\t\t$(option).html(text);\n\t\t\t$(option).addClass(self.settings.prefix + 'option');\n\t\t\tif (this.selected) {\n\t\t\t\t$(option).addClass('active');\n\t\t\t}\n\n\t\t\t// BIND EVENTS\n\t\t\t$(option).bind('mouseover', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tselected_index = index;\n\t\t\t\trefreshActiveOption();\n\t\t\t});\n\t\t\t$(option).bind('mousedown', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t\t$(option).bind('click', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tselectOption();\n\t\t\t});\n\n\n\t\t\treturn option;\n\t\t};\n\n\t\t// SHOW OPTIONS AND DIMMER\n\t\tvar showOptions = function () {\n\t\t\t$tagator_element.removeClass('options-hidden').addClass('options-visible');\n\t\t\tif (self.settings.useDimmer) {\n\t\t\t\t$('#' + self.settings.prefix + 'dimmer').show();\n\t\t\t}\n\t\t\t$options_element.css('top', ($tagator_element.outerHeight - 2) + 'px');\n\t\t\tif ($tagator_element.hasClass('single')) {\n\t\t\t\tselected_index = $options_element.find('.' + self.settings.prefix + 'option').index($options_element.find('.' + self.settings.prefix + 'option.active'));\n\t\t\t}\n\t\t\tscrollToActiveOption();\n\t\t};\n\n\t\t// HIDE OPTIONS AND DIMMER\n\t\tvar hideOptions = function () {\n\t\t\t$tagator_element.removeClass('options-visible').addClass('options-hidden');\n\t\t\tif (self.settings.useDimmer) {\n\t\t\t\t$('#' + self.settings.prefix + 'dimmer').hide();\n\t\t\t}\n\t\t};\n\n\t\t// REFRESH ACTIVE IN OPTIONS METHOD\n\t\tvar refreshActiveOption = function () {\n\t\t\t$options_element.find('.active').removeClass('active');\n\t\t\tif (selected_index !== -1) {\n\t\t\t\t$options_element.find('.' + self.settings.prefix + 'option').eq(selected_index).addClass('active');\n\t\t\t}\n\t\t};\n\n\t\t// SCROLL TO ACTIVE OPTION IN OPTIONS LIST\n\t\tvar scrollToActiveOption = function () {\n\t\t\tvar $active_element = $options_element.find('.' + self.settings.prefix + 'option.active');\n\t\t\tif ($active_element.length > 0) {\n\t\t\t\t$options_element.scrollTop($options_element.scrollTop() + $active_element.position().top - $options_element.height() / 2 + $active_element.height() / 2);\n\t\t\t}\n\n\t\t};\n\n\t\t// SELECT ACTIVE OPTION\n\t\tvar selectOption = function () {\n\t\t\taddTag($options_element.find('.' + self.settings.prefix + 'option').eq(selected_index).data('text'));\n\t\t};\n\n\n\t\t// REMOVE PLUGIN AND REVERT INPUT ELEMENT TO ORIGINAL STATE\n\t\tself.destroy = function () {\n\t\t\t$tagator_element.remove();\n\t\t\t$source_element.removeData('tagator');\n\t\t\t$source_element.show();\n\t\t\tif ($('.tagator').length === 0) {\n\t\t\t\t$('#' + self.settings.prefix + 'dimmer').remove();\n\t\t\t}\n\t\t};\n\n\t\t// Initialize plugin\n\t\tself.init();\n\t};\n\n\t$.fn.tagator = function () {\n\t\tvar parameters = arguments[0] !== undefined ? arguments : [{}];\n\t\treturn this.each(function () {\n\t\t\tif (typeof(parameters[0]) === 'object') {\n\t\t\t\tif (undefined === $(this).data('tagator')) {\n\t\t\t\t\tvar plugin = new $.tagator(this, parameters[0]);\n\t\t\t\t\t$(this).data('tagator', plugin);\n\t\t\t\t}\n\t\t\t} else if ($(this).data('tagator')[parameters[0]]) {\n\t\t\t\t$(this).data('tagator')[parameters[0]].apply(this, Array.prototype.slice.call(parameters, 1));\n\t\t\t} else {\n\t\t\t\t$.error('Method ' + parameters[0] + ' does not exist in $.tagator');\n\t\t\t}\n\t\t});\n\t};\n}(jQuery));\n\n\n$(function () {\n\t$('.tagator').each(function () {\n\t\tvar $this = $(this);\n\t\tvar options = {};\n\t\t$.each($this.data(), function (key, value) {\n\t\t\tif (key.substring(0, 7) === 'tagator') {\n\t\t\t\tvar value_temp = value.toString().replace(/'/g, '\"');\n\t\t\t\tvalue_temp = $.parseJSON(value_temp);\n\t\t\t\tif (typeof value_temp == 'object') {\n\t\t\t\t\tvalue = value_temp;\n\t\t\t\t}\n\t\t\t\toptions[key.substring(7, 8).toLowerCase() + key.substring(8)] = value;\n\t\t\t}\n\t\t});\n\t\t$this.tagator(options);\n\t});\n});\n"],"file":"fm.tagator.jquery.js"}