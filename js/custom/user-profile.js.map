{"version":3,"sources":["../../../src/js/custom/user-profile.js"],"names":["$","document","ready","likePost","sortAddMember","authToken","cookie","urlParams","URLSearchParams","window","location","search","userId","get","connectUserId","connectUser","showSharedFiles","addClass","ajax","type","url","baseUrl","headers","Authorization","crossDomain","success","data","html","name","userType","locationCity","locationCountry","showEmail","email","hide","existingDomains","domains","profilePicture","attr","removeClass","show","membersTemplate","find","members","length","j","async","response","member","clone","appendTo","resources","userResourceTemplate","quantity","append","connections","k","templateConnections","connectionTemplate","siblings","i","userDomainBadge","pendingRequests","connectionRequests","description","contentType","postHTML","postTemplate","createdAt","text","content","id","liked","css","likes","attachments","attachmentTemplate","images","galleryModal","includeHTMLModal","remainingPictures","on","JSON","stringify","reload","connectionRequest","files","sharedFile","fileNameUserProfile","title","substring","templateSharedFile","parent","postId","icon","isLiked","parseInt","likeSpan","userLikes","value","val","toLowerCase","children","each","toggle","indexOf"],"mappings":"AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;AAC5BC,EAAAA,QAAQ;AACRC,EAAAA,aAAa;AACb,MAAIC,SAAS,GAAGL,CAAC,CAACM,MAAF,CAAS,WAAT,CAAhB;AACA,MAAIC,SAAS,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAhB;AACA,MAAIC,MAAM,GAAGL,SAAS,CAACM,GAAV,CAAc,QAAd,CAAb;AACA,MAAIC,aAAa,GAAGd,CAAC,CAACM,MAAF,CAAS,YAAT,CAApB;AACAS,EAAAA,WAAW,CAACH,MAAD,EAASP,SAAT,CAAX;AACAW,EAAAA,eAAe,CAACJ,MAAD,EAASP,SAAT,CAAf;AACAL,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBiB,QAAvB,CAAgC,QAAhC;AACAjB,EAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BiB,QAA7B,CAAsC,QAAtC;AAEAjB,EAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BT,MAF1B;AAGLU,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAYlB;AAA7B,KAHJ;AAILmB,IAAAA,WAAW,EAAE,IAJR;AAKLC,IAAAA,OAAO,EAAE,UAAUC,IAAV,EAAgB;AACvB;AACA1B,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2B,IAAhB,CAAqBD,IAAI,CAACE,IAA1B;AACA5B,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB2B,IAApB,CAAyBD,IAAI,CAACE,IAA9B;AACA5B,MAAAA,CAAC,CAAC,6BAAD,CAAD,CAAiC2B,IAAjC,CAAsCD,IAAI,CAACE,IAA3C,EAJuB,CAMvB;;AACA,UAAIC,QAAQ,GAAGH,IAAI,CAACG,QAApB;;AACA,UAAIA,QAAQ,KAAK,aAAjB,EAAgC;AAC9B7B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2B,IAAhB,CAAqB,aAArB;AACD,OAFD,MAEO,IAAIE,QAAQ,KAAK,gBAAjB,EAAmC;AACxC7B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2B,IAAhB,CAAqB,gBAArB;AACD,OAFM,MAEA,IAAIE,QAAQ,KAAK,KAAjB,EAAwB;AAC7B7B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2B,IAAhB,CAAqB,KAArB;AACD,OAFM,MAEA,IAAIE,QAAQ,KAAK,oBAAjB,EAAuC;AAC5C7B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2B,IAAhB,CAAqB,oBAArB;AACD,OAFM,MAEA;AACL3B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2B,IAAhB,CAAqB,mBAArB;AACD,OAlBsB,CAoBvB;;;AACA3B,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB2B,IAApB,CAAyBD,IAAI,CAACI,YAAL,GAAoB,IAApB,GAA2BJ,IAAI,CAACK,eAAzD,EArBuB,CAuBvB;;AACA,UAAIL,IAAI,CAACM,SAAT,EAAoB;AAClBhC,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiB2B,IAAjB,CAAsBD,IAAI,CAACO,KAA3B;AACD,OAFD,MAEO;AACLjC,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBkC,IAAjB;AACD;;AAED,UAAIC,eAAe,GAAGT,IAAI,CAACU,OAA3B,CA9BuB,CA+BvB;AACA;;AACA,UAAIV,IAAI,CAACW,cAAT,EAAyB;AACvBrC,QAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBsC,IAAzB,CACE,KADF,EAEE,uDACEZ,IAAI,CAACW,cAHT;AAMArC,QAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BsC,IAA/B,CACE,KADF,EAEE,uDACEZ,IAAI,CAACW,cAHT;AAMArC,QAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCiB,QAAnC,CAA4C,QAA5C;AACD,OAdD,MAcO;AACLjB,QAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BuC,WAA1B,CAAsC,QAAtC;AACAvC,QAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BiB,QAA3B,CAAoC,QAApC;AACAjB,QAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBiB,QAAlB,CAA2B,QAA3B;AACD;;AAED,UAAIS,IAAI,CAACG,QAAL,KAAkB,gBAAtB,EAAwC;AACtC7B,QAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BkC,IAA9B;AACD,OAFD,MAEO;AACLlC,QAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BwC,IAA9B;AACA,YAAIC,eAAe,GAAGzC,CAAC,CAAC,0BAAD,CAAD,CAA8B0C,IAA9B,CACpB,8BADoB,CAAtB;AAGAD,QAAAA,eAAe,CAACP,IAAhB;;AACA,YAAIR,IAAI,CAACiB,OAAL,CAAaC,MAAjB,EAAyB;AACvB,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,IAAI,CAACiB,OAAL,CAAaC,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;AAC5C7C,YAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,cAAAA,IAAI,EAAE,KADD;AAELC,cAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BK,IAAI,CAACiB,OAAL,CAAaE,CAAb,CAF1B;AAGLvB,cAAAA,OAAO,EAAE;AAAEC,gBAAAA,aAAa,EAAE,YAAYvB,CAAC,CAACM,MAAF,CAAS,WAAT;AAA7B,eAHJ;AAILkB,cAAAA,WAAW,EAAE,IAJR;AAKLsB,cAAAA,KAAK,EAAE,KALF;AAMLrB,cAAAA,OAAO,EAAE,UAAUsB,QAAV,EAAoB;AAC3B,oBAAIA,QAAQ,CAACV,cAAb,EAA6B;AAC3BrC,kBAAAA,CAAC,CAAC,eAAD,CAAD,CAAmB2B,IAAnB,CACG,+DAA8DoB,QAAQ,CAACV,cAAe,IADzF;AAGD;;AACD,oBAAIW,MAAM,GAAGP,eAAe,CAACQ,KAAhB,EAAb;AACAD,gBAAAA,MAAM,CAACR,IAAP,GAAcU,QAAd,CAAuB,qBAAvB;AACAF,gBAAAA,MAAM,CACHN,IADH,CACQ,0CADR,EAEGf,IAFH,CAGK,0CAAyCoB,QAAQ,CAACnC,MAAO,KAAImC,QAAQ,CAACnB,IAAK,MAHhF;AAKD;AAnBI,aAAP;AAqBD;AACF,SAxBD,MAwBO;AACLa,UAAAA,eAAe,CACZD,IADH,GAEGb,IAFH,CAGI,qEAHJ;AAKD;AACF,OA5FsB,CA8FvB;;;AACA,WAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,IAAI,CAACyB,SAAL,CAAeP,MAAnC,EAA2CC,CAAC,EAA5C,EAAgD;AAC9C,YAAIO,oBAAoB,GAAI;AACpC;AACA,eAAe1B,IAAI,CAACyB,SAAL,CAAeN,CAAf,EAAkBjB,IAAK;AACtC,eAAeF,IAAI,CAACyB,SAAL,CAAeN,CAAf,EAAkBQ,QAAS;AAC1C,eAJQ;AAKArD,QAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BsD,MAA7B,CAAoCF,oBAApC;AACD,OAtGsB,CAuGvB;;;AACA,UAAI1B,IAAI,CAAC6B,WAAL,CAAiBX,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B5C,QAAAA,CAAC,CAAC,+BAAD,CAAD,CACG0C,IADH,CACQ,GADR,EAEGJ,IAFH,CAEQ,6BAA6BZ,IAAI,CAACd,MAF1C;;AAGA,aAAK,IAAI4C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9B,IAAI,CAAC6B,WAAL,CAAiBX,MAArC,EAA6CY,CAAC,EAA9C,EAAkD;AAChD,cAAInB,cAAc,GAAI,EAAtB;;AACA,cAAIX,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoBnB,cAAxB,EAAwC;AACtCA,YAAAA,cAAc,GAAI;AAC9B;AACA,4HAA4HX,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoB5C,MAAO;AACvJ,kHAAkHc,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoBnB,cAAe;AACrJ;AACA;AACA,aANY;AAOD,WARD,MAQO;AACLA,YAAAA,cAAc,GAAI;AAC9B;AACA,4HAA4HX,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoB5C,MAAO;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aArBY;AAsBD;;AACD,cAAI6C,mBAAmB,GAAI,EAA3B;;AACA,cAAI/B,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoB5C,MAApB,KAA+BE,aAAnC,EAAkD;AAChD2C,YAAAA,mBAAmB,GAAI;AACnC,oEAAoE/B,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoB5B,IAAK;AAC7F;AACA,aAHY;AAID,WALD,MAKO;AACL6B,YAAAA,mBAAmB,GAAI;AACnC,6FAA6F/B,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoB5C,MAAO;AACxH,yDAAyDc,IAAI,CAAC6B,WAAL,CAAiBC,CAAjB,EAAoB5B,IAAK;AAClF;AACA;AACA,aALY;AAMD;;AACD,cAAI8B,kBAAkB,GAAI;AACpC;AACA;AACA;AACA,kBAAkBrB,cAAe;AACjC;AACA;AACA,+BAA+BoB,mBAAoB;AACnD;AACA;AACA;AACA,WAXU;AAYAzD,UAAAA,CAAC,CAAC,+BAAD,CAAD,CACG0C,IADH,CACQ,GADR,EAEGJ,IAFH,CAEQ,MAFR,EAEgB,6BAA6B1B,MAF7C;AAGAZ,UAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCsD,MAAnC,CAA0CI,kBAA1C;AACD;AACF,OArED,MAqEO;AACL1D,QAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmC2B,IAAnC,CACE,wBACED,IAAI,CAACE,IADP,GAEE,wCAHJ;AAKA5B,QAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmC2D,QAAnC,GAA8CzB,IAA9C;AACD,OApLsB,CAsLvB;;;AACA,WAAK,IAAI0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlC,IAAI,CAACU,OAAL,CAAaQ,MAAjC,EAAyCgB,CAAC,EAA1C,EAA8C;AAC5C,YAAIC,eAAe,GAAI,uDAAsDnC,IAAI,CAACU,OAAL,CAAawB,CAAb,EAAgBhC,IAAK,SAAlG;AACA5B,QAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBsD,MAAnB,CAA0BO,eAA1B;AACD;;AACD,UAAIC,eAAe,GAAGpC,IAAI,CAACqC,kBAA3B;;AACA,UAAID,eAAJ,EAAqB;AACnB,aAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiB,eAAe,CAAClB,MAApC,EAA4CC,CAAC,EAA7C,EAAiD;AAC/C,cAAI7C,CAAC,CAACM,MAAF,CAAS,YAAT,MAA2BwD,eAAe,CAACjB,CAAD,CAAf,CAAmBjC,MAAlD,EAA0D;AACxDZ,YAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB2B,IAArB,CAA0B,uBAA1B;AACD;AACF;AACF,OAlMsB,CAmMvB;;;AACA,UAAID,IAAI,CAACsC,WAAT,EAAsB;AACpBhE,QAAAA,CAAC,CAAC,cAAD,CAAD,CAAkB2B,IAAlB,CAAuBD,IAAI,CAACsC,WAA5B;AACD,OAFD,MAEO;AACLhE,QAAAA,CAAC,CAAC,cAAD,CAAD,CAAkB2B,IAAlB,CAAuBD,IAAI,CAACE,IAAL,GAAY,mCAAnC;AACD;AACF;AA9MI,GAAP;AAiNA5B,EAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,GAAG,EAAEC,OAAO,GAAG,kBAAV,GAA+BT,MAF/B;AAGLqD,IAAAA,WAAW,EAAE,kBAHR;AAIL3C,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYlB;AADpB,KAJJ;AAOLmB,IAAAA,WAAW,EAAE,IAPR;AAQLC,IAAAA,OAAO,EAAE,UAAUC,IAAV,EAAgB;AACvB,UAAIwC,QAAQ,GAAGlE,CAAC,CAAC,eAAD,CAAhB;AACAkE,MAAAA,QAAQ,CAAChC,IAAT;;AACA,UAAIR,IAAI,CAACkB,MAAL,GAAc,CAAlB,EAAqB;AACnB,aAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlC,IAAI,CAACkB,MAAzB,EAAiCgB,CAAC,EAAlC,EAAsC;AACpC,cAAIO,YAAY,GAAGD,QAAQ,CAACjB,KAAT,EAAnB;AACAkB,UAAAA,YAAY,CAAC3B,IAAb,GAAoBU,QAApB,CAA6B,gBAA7B;AAEAiB,UAAAA,YAAY,CAACzB,IAAb,CAAkB,YAAlB,EAAgCf,IAAhC,CAAqCD,IAAI,CAACkC,CAAD,CAAJ,CAAQQ,SAA7C;AACAD,UAAAA,YAAY,CAACzB,IAAb,CAAkB,gBAAlB,EAAoC2B,IAApC,CAAyC3C,IAAI,CAACkC,CAAD,CAAJ,CAAQU,OAAjD;AACAH,UAAAA,YAAY,CAACzB,IAAb,CAAkB,gBAAlB,EAAoCJ,IAApC,CAAyC,SAAzC,EAAoDZ,IAAI,CAACkC,CAAD,CAAJ,CAAQW,EAA5D;AACAJ,UAAAA,YAAY,CACTzB,IADH,CACQ,gBADR,EAEGJ,IAFH,CAEQ,cAFR,EAEwBZ,IAAI,CAACkC,CAAD,CAAJ,CAAQY,KAFhC;;AAGA,cAAI9C,IAAI,CAACkC,CAAD,CAAJ,CAAQY,KAAZ,EAAmB;AACjBL,YAAAA,YAAY,CACTzB,IADH,CACQ,+BADR,EAEG+B,GAFH,CAEO,MAFP,EAEe,KAFf;AAGD;;AACDN,UAAAA,YAAY,CACTzB,IADH,CACQ,gBADR,EAEGY,MAFH,CAEU,8BAA8B5B,IAAI,CAACkC,CAAD,CAAJ,CAAQc,KAAtC,GAA8C,SAFxD;AAGA,cAAIC,WAAW,GAAGjD,IAAI,CAACkC,CAAD,CAAJ,CAAQe,WAA1B;;AAEA,cAAIA,WAAW,CAAC/B,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,WAAW,CAAC/B,MAAhC,EAAwCC,CAAC,EAAzC,EAA6C;AAC3CsB,cAAAA,YAAY,CACTzB,IADH,CACQ,kBADR,EAEGJ,IAFH,CAEQ,aAFR,EAEuB,OAFvB;AAGA6B,cAAAA,YAAY,CACTzB,IADH,CACQ,kBADR,EAEGJ,IAFH,CAEQ,aAFR,EAEuB,oBAAoBsB,CAF3C;AAGD;;AACD,gBAAIe,WAAW,CAAC/B,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,kBAAIgC,kBAAkB,GAAI,iGAAgGD,WAAW,CAAC,CAAD,CAAI,UAAzI;AACAR,cAAAA,YAAY,CAACzB,IAAb,CAAkB,kBAAlB,EAAsCY,MAAtC,CAA6CsB,kBAA7C;AACA,kBAAIC,MAAM,GAAI,iGAAgGF,WAAW,CAAC,CAAD,CAAI,IAA7H;AACA,kBAAIG,YAAY,GAAGC,gBAAgB,CAACnB,CAAD,EAAIiB,MAAJ,CAAnC;AACAV,cAAAA,YAAY,CAACzB,IAAb,CAAkB,kBAAlB,EAAsCY,MAAtC,CAA6CwB,YAA7C;AACD;;AACD,gBAAIH,WAAW,CAAC/B,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,kBAAIiC,MAAM,GAAI,EAAd;AACA,kBAAIC,YAAY,GAAI,EAApB;;AACA,mBAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,WAAW,CAAC/B,MAAhC,EAAwCC,CAAC,EAAzC,EAA6C;AAC3CgC,gBAAAA,MAAM,IAAK,iGAAgGF,WAAW,CAAC9B,CAAD,CAAI,IAA1H;AACA,oBAAI+B,kBAAkB,GAAI,gGAA+FD,WAAW,CAAC9B,CAAD,CAAI,UAAxI;AACAsB,gBAAAA,YAAY,CACTzB,IADH,CACQ,kBADR,EAEGY,MAFH,CAEUsB,kBAFV;AAGD;;AACDE,cAAAA,YAAY,GAAGC,gBAAgB,CAACnB,CAAD,EAAIiB,MAAJ,CAA/B;AACAV,cAAAA,YAAY,CAACzB,IAAb,CAAkB,kBAAlB,EAAsCY,MAAtC,CAA6CwB,YAA7C;AACD;;AACD,gBAAIH,WAAW,CAAC/B,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,kBAAIiC,MAAM,GAAI,EAAd;;AACA,mBAAK,IAAIhC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,WAAW,CAAC/B,MAAhC,EAAwCC,CAAC,EAAzC,EAA6C;AAC3CgC,gBAAAA,MAAM,IAAK,iGAAgGF,WAAW,CAAC9B,CAAD,CAAI,IAA1H;AACA,oBAAI+B,kBAAkB,GAAI,gGAA+FD,WAAW,CAAC9B,CAAD,CAAI,UAAxI;AACAsB,gBAAAA,YAAY,CACTzB,IADH,CACQ,kBADR,EAEGY,MAFH,CAEUsB,kBAFV;AAGD;;AACD,kBAAIE,YAAY,GAAGC,gBAAgB,CAACnB,CAAD,EAAIiB,MAAJ,CAAnC;AACAV,cAAAA,YAAY,CAACzB,IAAb,CAAkB,kBAAlB,EAAsCY,MAAtC,CAA6CwB,YAA7C;AACD;;AACD,gBAAIH,WAAW,CAAC/B,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,kBAAIiC,MAAM,GAAI,EAAd;;AACA,mBAAK,IAAIhC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,WAAW,CAAC/B,MAAhC,EAAwCC,CAAC,EAAzC,EAA6C;AAC3C,oBAAIA,CAAC,GAAG,CAAR,EAAW;AACT,sBAAI+B,kBAAkB,GAAI,gGAA+FD,WAAW,CAAC9B,CAAD,CAAI,UAAxI;AACAsB,kBAAAA,YAAY,CACTzB,IADH,CACQ,kBADR,EAEGY,MAFH,CAEUsB,kBAFV;AAGD;;AACDC,gBAAAA,MAAM,IAAK,iGAAgGF,WAAW,CAAC9B,CAAD,CAAI,IAA1H;AACD;;AAED,kBAAImC,iBAAiB,GAAGL,WAAW,CAAC/B,MAAZ,GAAqB,CAA7C;AAEAuB,cAAAA,YAAY,CACTzB,IADH,CACQ,kBADR,EAEGY,MAFH,CAGK,mFAAkF0B,iBAAkB,mBAHzG;AAKA,kBAAIF,YAAY,GAAGC,gBAAgB,CAACnB,CAAD,EAAIiB,MAAJ,CAAnC;AACAV,cAAAA,YAAY,CAACzB,IAAb,CAAkB,kBAAlB,EAAsCY,MAAtC,CAA6CwB,YAA7C;AACD;AACF,WA/DD,MA+DO;AACLX,YAAAA,YAAY,CAACzB,IAAb,CAAkB,mBAAlB,EAAuCR,IAAvC;AACD;AACF;AACF,OAxFD,MAwFO;AACLlC,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB2B,IAApB,CACE,2DADF;AAGD;AACF;AAxGI,GAAP;AA0GD,CAvUD,E,CAwUA;;AACA3B,CAAC,CAACC,QAAD,CAAD,CAAYgF,EAAZ,CAAe,OAAf,EAAwB,sCAAxB,EAAgE,YAAY;AAC1E,MAAI1E,SAAS,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAhB;AACA,MAAIC,MAAM,GAAGL,SAAS,CAACM,GAAV,CAAc,QAAd,CAAb;AAEAb,EAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,MADD;AAELC,IAAAA,GAAG,EACDC,OAAO,GAAG,aAAV,GAA0BrB,CAAC,CAACM,MAAF,CAAS,YAAT,CAA1B,GAAmD,qBAHhD;AAIL2D,IAAAA,WAAW,EAAE,kBAJR;AAKL3C,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYvB,CAAC,CAACM,MAAF,CAAS,WAAT;AADpB,KALJ;AAQLoB,IAAAA,IAAI,EAAEwD,IAAI,CAACC,SAAL,CAAe;AACnBvE,MAAAA,MAAM,EAAEA;AADW,KAAf,CARD;AAWLY,IAAAA,WAAW,EAAE,IAXR;AAYLC,IAAAA,OAAO,EAAE,UAAUsB,QAAV,EAAoB;AAC3BrC,MAAAA,QAAQ,CAAC0E,MAAT,CAAgB,IAAhB;AACD;AAdI,GAAP;AAgBD,CApBD;;AAsBA,SAASrE,WAAT,CAAqBH,MAArB,EAA6BP,SAA7B,EAAwC;AACtCL,EAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BrB,CAAC,CAACM,MAAF,CAAS,YAAT,CAF1B;AAGLgB,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAYlB;AAA7B,KAHJ;AAILmB,IAAAA,WAAW,EAAE,IAJR;AAKLC,IAAAA,OAAO,EAAE,UAAUC,IAAV,EAAgB;AACvB,UAAI2D,iBAAiB,GAAG3D,IAAI,CAACqC,kBAA7B;AACA,UAAIR,WAAW,GAAG7B,IAAI,CAAC6B,WAAvB;;AACA,WAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyB,iBAAiB,CAACzC,MAAtC,EAA8CgB,CAAC,EAA/C,EAAmD;AACjD,YAAIyB,iBAAiB,CAACzB,CAAD,CAAjB,CAAqBhD,MAArB,KAAgCA,MAApC,EAA4C;AAC1CZ,UAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB2B,IAArB,CAA0B,mBAA1B;AACD;AACF;;AACD,WAAK,IAAIiC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,WAAW,CAACX,MAAhC,EAAwCgB,CAAC,EAAzC,EAA6C;AAC3C,YAAIL,WAAW,CAACK,CAAD,CAAX,CAAehD,MAAf,KAA0BA,MAA9B,EAAsC;AACpCZ,UAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB2B,IAArB,CAA0B,oBAA1B;AACD;AACF;AACF;AAlBI,GAAP;AAoBD;;AACD,SAASoD,gBAAT,CAA0BnB,CAA1B,EAA6BiB,MAA7B,EAAqC;AACnC,MAAIC,YAAY,GAAI;AACtB,gDAAgDlB,CAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAciB,MAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAnBE;AAoBA,SAAOC,YAAP;AACD;;AACD,SAAS9D,eAAT,CAAyBJ,MAAzB,EAAiCP,SAAjC,EAA4C;AAC1CL,EAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BT,MAA1B,GAAmC,cAFnC;AAGLU,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAE,YAAYlB;AAA7B,KAHJ;AAILmB,IAAAA,WAAW,EAAE,IAJR;AAKLC,IAAAA,OAAO,EAAE,UAAUC,IAAV,EAAgB;AACvB,UAAI4D,KAAK,GAAG5D,IAAI,CAAC4C,OAAjB;;AACA,UAAIgB,KAAK,CAAC1C,MAAV,EAAkB;AAChB,YAAI2C,UAAU,GAAGvF,CAAC,CAAC,qBAAD,CAAlB;AACAuF,QAAAA,UAAU,CAACtE,QAAX,CAAoB,QAApB;;AACA,aAAK,IAAI2C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0B,KAAK,CAAC1C,MAA1B,EAAkCgB,CAAC,EAAnC,EAAuC;AACrC,cAAI4B,mBAAmB,GAAGF,KAAK,CAAC1B,CAAD,CAAL,CAAS6B,KAAnC;;AACA,cAAID,mBAAmB,CAAC5C,MAApB,GAA6B,EAAjC,EAAqC;AACnC4C,YAAAA,mBAAmB,GACjBA,mBAAmB,CAACE,SAApB,CAA8B,CAA9B,EAAiC,EAAjC,IAAuC,OADzC;AAED;;AACD,cAAI9B,CAAC,GAAG,CAAR,EAAW;AACT,gBAAI+B,kBAAkB,GAAGJ,UAAU,CAACtC,KAAX,EAAzB;AACA0C,YAAAA,kBAAkB,CACfpD,WADH,CACe,QADf,EAEGW,QAFH,CAEY,qBAFZ;AAGAyC,YAAAA,kBAAkB,CACfjD,IADH,CACQ,wBADR,EAEGf,IAFH,CAEQ,WAAW6D,mBAAX,GAAiC,SAFzC;AAGD,WARD,MAQO;AACL;AACD;AACF;;AACDD,QAAAA,UAAU,CACPK,MADH,GAEGA,MAFH,GAGGA,MAHH,GAIGlD,IAJH,CAIQ,cAJR,EAKGA,IALH,CAKQ,GALR,EAMGJ,IANH,CAMQ,MANR,EAMgB,8BAA8B1B,MAN9C;AAOD,OA5BD,MA4BO;AACLZ,QAAAA,CAAC,CAAC,qBAAD,CAAD,CACG2B,IADH,CAEI,gEAFJ,EAIGV,QAJH,CAIY,oBAJZ,EAKG2E,MALH,GAMGA,MANH,GAOGlD,IAPH,CAOQ,cAPR,EAQGzB,QARH,CAQY,QARZ;AASD;AACF;AA9CI,GAAP;AAgDD;;AACD,SAASd,QAAT,GAAoB;AAClBH,EAAAA,CAAC,CAACC,QAAD,CAAD,CAAYgF,EAAZ,CAAe,OAAf,EAAwB,gBAAxB,EAA0C,YAAY;AACpD,QAAIrE,MAAM,GAAGZ,CAAC,CAACM,MAAF,CAAS,YAAT,CAAb;AACA,QAAID,SAAS,GAAGL,CAAC,CAACM,MAAF,CAAS,WAAT,CAAhB;AACA,QAAIuF,MAAM,GAAG7F,CAAC,CAAC,IAAD,CAAD,CAAQsC,IAAR,CAAa,SAAb,CAAb;AACA,QAAIwD,IAAI,GAAG9F,CAAC,CAAC,IAAD,CAAD,CAAQ0C,IAAR,CAAa,gBAAb,CAAX;AACA,QAAIqD,OAAO,GAAG/F,CAAC,CAAC,IAAD,CAAf;AAEA,QAAI0E,KAAK,GAAGsB,QAAQ,CAAChG,CAAC,CAAC,IAAD,CAAD,CAAQ0C,IAAR,CAAa,YAAb,EAA2B2B,IAA3B,EAAD,EAAoC,EAApC,CAAR,GAAkD,CAA9D;AACA,QAAI4B,QAAQ,GAAGjG,CAAC,CAAC,IAAD,CAAD,CAAQ0C,IAAR,CAAa,YAAb,CAAf;;AACA,QAAIqD,OAAO,CAACzD,IAAR,CAAa,cAAb,MAAiC,MAArC,EAA6C;AAC3CtC,MAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,QAAAA,IAAI,EAAE,KADD;AAELC,QAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BwE,MAA1B,GAAmC,QAAnC,GAA8CjF,MAF9C;AAGLkC,QAAAA,KAAK,EAAE,KAHF;AAILxB,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAE,YAAYlB;AADpB,SAJJ;AAOLmB,QAAAA,WAAW,EAAE,IAPR;AAQLyC,QAAAA,WAAW,EAAE,kBARR;AASLxC,QAAAA,OAAO,EAAE,UAAUsB,QAAV,EAAoB;AAC3B+C,UAAAA,IAAI,CAACrB,GAAL,CAAS,MAAT,EAAiB,KAAjB;AACAwB,UAAAA,QAAQ,CAAC5B,IAAT,CAAcK,KAAd;AACAqB,UAAAA,OAAO,CAACzD,IAAR,CAAa,cAAb,EAA6B,MAA7B;AACD;AAbI,OAAP;AAeD,KAhBD,MAgBO,IAAIyD,OAAO,CAACzD,IAAR,CAAa,cAAb,MAAiC,MAArC,EAA6C;AAClDtC,MAAAA,CAAC,CAACkB,IAAF,CAAO;AACLC,QAAAA,IAAI,EAAE,KADD;AAELC,QAAAA,GAAG,EAAEC,OAAO,GAAG,aAAV,GAA0BwE,MAA1B,GAAmC,UAAnC,GAAgDjF,MAFhD;AAGLkC,QAAAA,KAAK,EAAE,KAHF;AAILxB,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAE,YAAYlB;AADpB,SAJJ;AAOLmB,QAAAA,WAAW,EAAE,IAPR;AAQLyC,QAAAA,WAAW,EAAE,kBARR;AASLxC,QAAAA,OAAO,EAAE,UAAUsB,QAAV,EAAoB;AAC3B+C,UAAAA,IAAI,CAACF,MAAL,GACGjE,IADH,CACS;AACnB;AACA;AACA;AACA;AACA,uCANU;AAOAsE,UAAAA,QAAQ,CAAC5B,IAAT,CAActB,QAAQ,CAACmD,SAAT,CAAmBtD,MAAjC;AACAmD,UAAAA,OAAO,CAACzD,IAAR,CAAa,cAAb,EAA6B,OAA7B;AACD;AAnBI,OAAP;AAqBD;AACF,GAhDD;AAiDD;;AAED,SAASlC,aAAT,GAAyB;AACvBJ,EAAAA,CAAC,CAACC,QAAD,CAAD,CAAYgF,EAAZ,CAAe,OAAf,EAAwB,sBAAxB,EAAgD,YAAY;AAC1D,QAAIkB,KAAK,GAAGnG,CAAC,CAAC,IAAD,CAAD,CAAQoG,GAAR,GAAcC,WAAd,EAAZ;AACArG,IAAAA,CAAC,CAAC,iBAAD,CAAD,CACGsG,QADH,GAEGC,IAFH,CAEQ,YAAY;AAChB,UAAI3E,IAAI,GAAG5B,CAAC,CAAC,IAAD,CAAD,CAAQqE,IAAR,GAAegC,WAAf,EAAX;AAEArG,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwG,MAAR,CAAe5E,IAAI,CAACyE,WAAL,GAAmBI,OAAnB,CAA2BN,KAA3B,IAAoC,CAAC,CAApD;AACD,KANH;AAOD,GATD;AAUD","sourcesContent":["$(document).ready(function () {\n  likePost();\n  sortAddMember();\n  let authToken = $.cookie(\"authToken\");\n  var urlParams = new URLSearchParams(window.location.search);\n  var userId = urlParams.get(\"userId\");\n  var connectUserId = $.cookie(\"authUserId\");\n  connectUser(userId, authToken);\n  showSharedFiles(userId, authToken);\n  $(\".edit-info-button\").addClass(\"d-none\");\n  $(\".d-none-if-profile-view\").addClass(\"d-none\");\n\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/users/\" + userId,\n    headers: { Authorization: \"Bearer \" + authToken },\n    crossDomain: true,\n    success: function (data) {\n      // display user name\n      $(\".user-name\").html(data.name);\n      $(\"#post-username\").html(data.name);\n      $(\".profile-view-username-post\").html(data.name);\n\n      // display user type\n      let userType = data.userType;\n      if (userType === \"SINGLE_USER\") {\n        $(\".user-type\").html(\"Single user\");\n      } else if (userType === \"INFORMAL_GROUP\") {\n        $(\".user-type\").html(\"Informal group\");\n      } else if (userType === \"NGO\") {\n        $(\".user-type\").html(\"NGO\");\n      } else if (userType === \"PUBLIC_INSTITUTION\") {\n        $(\".user-type\").html(\"Public institution\");\n      } else {\n        $(\".user-type\").html(\"USER TYPE NOT SET\");\n      }\n\n      // display user location\n      $(\".user-location\").html(data.locationCity + \", \" + data.locationCountry);\n\n      // display user-email\n      if (data.showEmail) {\n        $(\".user-email\").html(data.email);\n      } else {\n        $(\".user-email\").hide();\n      }\n\n      var existingDomains = data.domains;\n      // get all domains\n      // get user profile picture\n      if (data.profilePicture) {\n        $(\"img.profile-picture\").attr(\n          \"src\",\n          \"https://api.youth-initiatives.com/api/attachments/\" +\n            data.profilePicture\n        );\n\n        $(\".profile-picture-post img\").attr(\n          \"src\",\n          \"https://api.youth-initiatives.com/api/attachments/\" +\n            data.profilePicture\n        );\n\n        $(\".d-none-if-picture-not-exists\").addClass(\"d-none\");\n      } else {\n        $(\".profile-placeholder\").removeClass(\"d-none\");\n        $(\".profile-picture-post\").addClass(\"d-none\");\n        $(\".profile-pic\").addClass(\"d-none\");\n      }\n\n      if (data.userType !== \"INFORMAL_GROUP\") {\n        $(\".members-card-for-groups\").hide();\n      } else {\n        $(\".members-card-for-groups\").show();\n        var membersTemplate = $(\".members-card-for-groups\").find(\n          \"li#profile-view-member-group\"\n        );\n        membersTemplate.hide();\n        if (data.members.length) {\n          for (var j = 0; j < data.members.length; j++) {\n            $.ajax({\n              type: \"GET\",\n              url: baseUrl + \"/api/users/\" + data.members[j],\n              headers: { Authorization: \"Bearer \" + $.cookie(\"authToken\") },\n              crossDomain: true,\n              async: false,\n              success: function (response) {\n                if (response.profilePicture) {\n                  $(\".icon-wrapper\").html(\n                    `<img src='https://api.youth-initiatives.com/api/attachments/${response.profilePicture}'>`\n                  );\n                }\n                var member = membersTemplate.clone();\n                member.show().appendTo(\"#user-members-group\");\n                member\n                  .find(\"span#profile-view-user-member-name-group\")\n                  .html(\n                    `<a href=\"user-profile-view.html?userId=${response.userId}\">${response.name}</a>`\n                  );\n              },\n            });\n          }\n        } else {\n          membersTemplate\n            .show()\n            .html(\n              \"<div class='col-12'>This group does not have any members yet!</div>\"\n            );\n        }\n      }\n\n      // display resources\n      for (var j = 0; j < data.resources.length; j++) {\n        let userResourceTemplate = `\n        <div class=\"d-flex flex-row justify-content-between\">\n          <p>${data.resources[j].name}</p>\n          <p>${data.resources[j].quantity}</p>\n        </div>`;\n        $(\".user-resources-profile\").append(userResourceTemplate);\n      }\n      //display connections\n      if (data.connections.length > 0) {\n        $(\".connections-profile-see-more\")\n          .find(\"a\")\n          .attr(\"connections.html?userId=\" + data.userId);\n        for (var k = 0; k < data.connections.length; k++) {\n          var profilePicture = ``;\n          if (data.connections[k].profilePicture) {\n            profilePicture = `\n            <div class=\"icon-user-circle\" style=\"opacity: 1 !important;\">\n              <a class=\"h-100 w-100 d-flex align-items-center justify-content-center\" href=\"user-profile-view.html?userId=${data.connections[k].userId}\">\n                <img class=\"profile-picture-connections\" src=\"https://api.youth-initiatives.com/api/attachments/${data.connections[k].profilePicture}\">\n              </a>\n            </div>\n            `;\n          } else {\n            profilePicture = `\n            <div class=\"icon-user-circle\">\n              <a class=\"h-100 w-100 d-flex align-items-center justify-content-center\" href=\"user-profile-view.html?userId=${data.connections[k].userId}\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"19\" viewBox=\"0 0 17 19\">\n                  <defs>\n                    <style>\n                      .a {\n                        fill: none;\n                        stroke: #1e272e;\n                        stroke-linecap: round;\n                        stroke-linejoin: round;\n                      }\n                    </style>\n                  </defs>\n                  <g transform=\"translate(-5.5 -4)\">\n                    <path class=\"a\" d=\"M22,28.5v-2a4,4,0,0,0-4-4H10a4,4,0,0,0-4,4v2\" transform=\"translate(0 -6)\"></path>\n                    <path class=\"a\" d=\"M20,8.5a4,4,0,1,1-4-4,4,4,0,0,1,4,4Z\" transform=\"translate(-2 0)\"></path>\n                  </g>\n                </svg>\n              </a>\n            </div>\n            `;\n          }\n          var templateConnections = ``;\n          if (data.connections[k].userId === connectUserId) {\n            templateConnections = `\n              <span class=\"pl-3 text-muted\" id=\"user-member-name\">${data.connections[k].name}\n              </span>\n            `;\n          } else {\n            templateConnections = `\n            <a class=\"text-muted text-decoration-none\" href=\"user-profile-view.html?userId=${data.connections[k].userId}\">\n              <span class=\"pl-3\" id=\"user-member-name\">${data.connections[k].name}\n              </span>\n            </a>\n            `;\n          }\n          var connectionTemplate = `\n          <div class=\"row py-2 no-gutters align-items-center justify-content-between\">\n            <div class=\"col-auto px-3\">\n              <div class=\"icon-wrapper\">\n                ${profilePicture}\n              </div>\n            </div>\n            <div class=\"col\">${templateConnections}\n              \n            </div>\n          </div>\n          `;\n          $(\".connections-profile-see-more\")\n            .find(\"a\")\n            .attr(\"href\", \"connections.html?userId=\" + userId);\n          $(\".connections-template-profile\").append(connectionTemplate);\n        }\n      } else {\n        $(\".connections-template-profile\").html(\n          \"<p class='p-3 m-0'>\" +\n            data.name +\n            \" does not have any connections yet</p>\"\n        );\n        $(\".connections-template-profile\").siblings().hide();\n      }\n\n      // display domains\n      for (var i = 0; i < data.domains.length; i++) {\n        var userDomainBadge = `<span class=\"badge badge-pill badge-secondary ml-2\">${data.domains[i].name}</span>`;\n        $(\".user-domains\").append(userDomainBadge);\n      }\n      var pendingRequests = data.connectionRequests;\n      if (pendingRequests) {\n        for (var j = 0; j < pendingRequests.length; j++) {\n          if ($.cookie(\"authUserId\") === pendingRequests[j].userId) {\n            $(\"div.show-status\").html(\"Request already sent!\");\n          }\n        }\n      }\n      // user description\n      if (data.description) {\n        $(\".description\").html(data.description);\n      } else {\n        $(\".description\").html(data.name + \" does not have a description yet!\");\n      }\n    },\n  });\n\n  $.ajax({\n    type: \"get\",\n    url: baseUrl + \"/api/posts/user/\" + userId,\n    contentType: \"application/json\",\n    headers: {\n      Authorization: \"Bearer \" + authToken,\n    },\n    crossDomain: true,\n    success: function (data) {\n      var postHTML = $(\"#profile-post\");\n      postHTML.hide();\n      if (data.length > 0) {\n        for (var i = 0; i < data.length; i++) {\n          var postTemplate = postHTML.clone();\n          postTemplate.show().appendTo(\".posts-wrapper\");\n\n          postTemplate.find(\"#post-date\").html(data[i].createdAt);\n          postTemplate.find(\"p#post-content\").text(data[i].content);\n          postTemplate.find(\"span#like-post\").attr(\"post-id\", data[i].id);\n          postTemplate\n            .find(\"span#like-post\")\n            .attr(\"data-isLiked\", data[i].liked);\n          if (data[i].liked) {\n            postTemplate\n              .find(\"span#like-post svg.heart path\")\n              .css(\"fill\", \"red\");\n          }\n          postTemplate\n            .find(\"span#like-post\")\n            .append(\"<span class='pl-3 likes'>\" + data[i].likes + \"</span>\");\n          var attachments = data[i].attachments;\n\n          if (attachments.length > 0) {\n            for (var j = 0; j < attachments.length; j++) {\n              postTemplate\n                .find(\"#attachments-row\")\n                .attr(\"data-toggle\", \"modal\");\n              postTemplate\n                .find(\"#attachments-row\")\n                .attr(\"data-target\", \"#posts-gallery-\" + i);\n            }\n            if (attachments.length === 1) {\n              var attachmentTemplate = `<div class=\"col-12 post-pictures\"><img src=\"https://api.youth-initiatives.com/api/attachments/${attachments[0]}\"></div>`;\n              postTemplate.find(\"#attachments-row\").append(attachmentTemplate);\n              var images = `<img class=\"img-fluid mb-3 box-shadow\" src=\"https://api.youth-initiatives.com/api/attachments/${attachments[0]}\">`;\n              var galleryModal = includeHTMLModal(i, images);\n              postTemplate.find(\"#attachments-row\").append(galleryModal);\n            }\n            if (attachments.length === 2) {\n              var images = ``;\n              var galleryModal = ``;\n              for (var j = 0; j < attachments.length; j++) {\n                images += `<img class=\"img-fluid mb-3 box-shadow\" src=\"https://api.youth-initiatives.com/api/attachments/${attachments[j]}\">`;\n                var attachmentTemplate = `<div class=\"col-6 post-pictures\"><img src=\"https://api.youth-initiatives.com/api/attachments/${attachments[j]}\"></div>`;\n                postTemplate\n                  .find(\"#attachments-row\")\n                  .append(attachmentTemplate);\n              }\n              galleryModal = includeHTMLModal(i, images);\n              postTemplate.find(\"#attachments-row\").append(galleryModal);\n            }\n            if (attachments.length === 3) {\n              var images = ``;\n              for (var j = 0; j < attachments.length; j++) {\n                images += `<img class=\"img-fluid mb-3 box-shadow\" src=\"https://api.youth-initiatives.com/api/attachments/${attachments[j]}\">`;\n                var attachmentTemplate = `<div class=\"col-4 post-pictures\"><img src=\"https://api.youth-initiatives.com/api/attachments/${attachments[j]}\"></div>`;\n                postTemplate\n                  .find(\"#attachments-row\")\n                  .append(attachmentTemplate);\n              }\n              var galleryModal = includeHTMLModal(i, images);\n              postTemplate.find(\"#attachments-row\").append(galleryModal);\n            }\n            if (attachments.length > 3) {\n              var images = ``;\n              for (var j = 0; j < attachments.length; j++) {\n                if (j < 3) {\n                  var attachmentTemplate = `<div class=\"col-6 post-pictures\"><img src=\"https://api.youth-initiatives.com/api/attachments/${attachments[j]}\"></div>`;\n                  postTemplate\n                    .find(\"#attachments-row\")\n                    .append(attachmentTemplate);\n                }\n                images += `<img class=\"img-fluid mb-3 box-shadow\" src=\"https://api.youth-initiatives.com/api/attachments/${attachments[j]}\">`;\n              }\n\n              var remainingPictures = attachments.length - 3;\n\n              postTemplate\n                .find(\"#attachments-row\")\n                .append(\n                  `<div class=\"col-6\"><div class=\"post-remaining-pictures\"><h4 class=\"text-white\">+${remainingPictures}</h4></div></div>`\n                );\n              var galleryModal = includeHTMLModal(i, images);\n              postTemplate.find(\"#attachments-row\").append(galleryModal);\n            }\n          } else {\n            postTemplate.find(\"#post-attachments\").hide();\n          }\n        }\n      } else {\n        $(\".posts-wrapper\").html(\n          \"<h4 class='text-center mt-5'>This user has no posts!</h4>\"\n        );\n      }\n    },\n  });\n});\n// connect with user\n$(document).on(\"click\", \"button.user-profile-view-connect-btn\", function () {\n  var urlParams = new URLSearchParams(window.location.search);\n  var userId = urlParams.get(\"userId\");\n\n  $.ajax({\n    type: \"POST\",\n    url:\n      baseUrl + \"/api/users/\" + $.cookie(\"authUserId\") + \"/requestConnection/\",\n    contentType: \"application/json\",\n    headers: {\n      Authorization: \"Bearer \" + $.cookie(\"authToken\"),\n    },\n    data: JSON.stringify({\n      userId: userId,\n    }),\n    crossDomain: true,\n    success: function (response) {\n      location.reload(true);\n    },\n  });\n});\n\nfunction connectUser(userId, authToken) {\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/users/\" + $.cookie(\"authUserId\"),\n    headers: { Authorization: \"Bearer \" + authToken },\n    crossDomain: true,\n    success: function (data) {\n      var connectionRequest = data.connectionRequests;\n      var connections = data.connections;\n      for (var i = 0; i < connectionRequest.length; i++) {\n        if (connectionRequest[i].userId === userId) {\n          $(\"div.show-status\").html(\"Request pending!!\");\n        }\n      }\n      for (var i = 0; i < connections.length; i++) {\n        if (connections[i].userId === userId) {\n          $(\"div.show-status\").html(\"Already connected!\");\n        }\n      }\n    },\n  });\n}\nfunction includeHTMLModal(i, images) {\n  var galleryModal = `\n    <div class=\"modal fade\" id=\"posts-gallery-${i}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n            <button type=\"button\" class=\"close text-black\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            ${images}\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n  return galleryModal;\n}\nfunction showSharedFiles(userId, authToken) {\n  $.ajax({\n    type: \"GET\",\n    url: baseUrl + \"/api/users/\" + userId + \"/attachments\",\n    headers: { Authorization: \"Bearer \" + authToken },\n    crossDomain: true,\n    success: function (data) {\n      var files = data.content;\n      if (files.length) {\n        var sharedFile = $(\"li#shared-list-item\");\n        sharedFile.addClass(\"d-none\");\n        for (var i = 0; i < files.length; i++) {\n          var fileNameUserProfile = files[i].title;\n          if (fileNameUserProfile.length > 10) {\n            fileNameUserProfile =\n              fileNameUserProfile.substring(0, 10) + \"[...]\";\n          }\n          if (i < 5) {\n            var templateSharedFile = sharedFile.clone();\n            templateSharedFile\n              .removeClass(\"d-none\")\n              .appendTo(\"ul.shared-resources\");\n            templateSharedFile\n              .find(\"span#name-shared-files\")\n              .html(\"<span>\" + fileNameUserProfile + \"</span>\");\n          } else {\n            break;\n          }\n        }\n        sharedFile\n          .parent()\n          .parent()\n          .parent()\n          .find(\".card-footer\")\n          .find(\"a\")\n          .attr(\"href\", \"shared-files.html?userId=\" + userId);\n      } else {\n        $(\"ul.shared-resources\")\n          .html(\n            \"<li class='pt-3'>This user doesn't have any shared files!</li>\"\n          )\n          .addClass(\"list-unstyled mb-3\")\n          .parent()\n          .parent()\n          .find(\".card-footer\")\n          .addClass(\"d-none\");\n      }\n    },\n  });\n}\nfunction likePost() {\n  $(document).on(\"click\", \"span#like-post\", function () {\n    var userId = $.cookie(\"authUserId\");\n    var authToken = $.cookie(\"authToken\");\n    var postId = $(this).attr(\"post-id\");\n    var icon = $(this).find(\"svg.heart path\");\n    var isLiked = $(this);\n\n    var likes = parseInt($(this).find(\"span.likes\").text(), 10) + 1;\n    var likeSpan = $(this).find(\"span.likes\");\n    if (isLiked.attr(\"data-isLiked\") !== \"true\") {\n      $.ajax({\n        type: \"PUT\",\n        url: baseUrl + \"/api/posts/\" + postId + \"/like/\" + userId,\n        async: false,\n        headers: {\n          Authorization: \"Bearer \" + authToken,\n        },\n        crossDomain: true,\n        contentType: \"application/json\",\n        success: function (response) {\n          icon.css(\"fill\", \"red\");\n          likeSpan.text(likes);\n          isLiked.attr(\"data-isLiked\", \"true\");\n        },\n      });\n    } else if (isLiked.attr(\"data-isLiked\") === \"true\") {\n      $.ajax({\n        type: \"PUT\",\n        url: baseUrl + \"/api/posts/\" + postId + \"/unlike/\" + userId,\n        async: false,\n        headers: {\n          Authorization: \"Bearer \" + authToken,\n        },\n        crossDomain: true,\n        contentType: \"application/json\",\n        success: function (response) {\n          icon.parent()\n            .html(`<svg class=\"heart\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"15\" viewBox=\"0 0 16 15\">\n                                  <g id=\"heart\" fill=\"none\" stroke-miterlimit=\"10\">\n                                    <path d=\"M8,15,6.84,13.937C2.72,10.1,0,7.6,0,4.5A4.386,4.386,0,0,1,4.4,0,4.7,4.7,0,0,1,8,1.717,4.7,4.7,0,0,1,11.6,0,4.386,4.386,0,0,1,16,4.5c0,3.106-2.72,5.6-6.84,9.441Z\" stroke=\"none\"></path>\n                                    <path d=\"M 8 13.64373970031738 L 8.48186206817627 13.20225715637207 L 8.644049644470215 13.05103969573975 C 12.47146034240723 9.482660293579102 15 7.125249862670898 15 4.49590015411377 C 15 3.53331995010376 14.65030956268311 2.645900011062622 14.01533985137939 1.997089982032776 C 13.38607025146484 1.3541100025177 12.52828979492188 1 11.60000038146973 1 C 10.53046035766602 1 9.472579956054688 1.506360054016113 8.770179748535156 2.354510068893433 L 8.000020027160645 3.284480094909668 L 7.22983980178833 2.354520082473755 C 6.527400016784668 1.506360054016113 5.469510078430176 1 4.400000095367432 1 C 3.471709966659546 1 2.613929986953735 1.3541100025177 1.984660029411316 1.997089982032776 C 1.349689960479736 2.645900011062622 1 3.53331995010376 1 4.49590015411377 C 1 7.125249862670898 3.528589963912964 9.482709884643555 7.356080055236816 13.05115985870361 L 7.518139362335205 13.2022590637207 L 8 13.64373970031738 M 8 15 L 6.839849948883057 13.9370698928833 C 2.719919919967651 10.09539031982422 0 7.601950168609619 0 4.49590015411377 C 0 1.9617600440979 1.919919967651367 -8.881784197001252e-16 4.400000095367432 -8.881784197001252e-16 C 5.799960136413574 -8.881784197001252e-16 7.119880199432373 0.653980016708374 8 1.71668004989624 C 8.880080223083496 0.653980016708374 10.19995975494385 -8.881784197001252e-16 11.60000038146973 -8.881784197001252e-16 C 14.08008003234863 -8.881784197001252e-16 16 1.9617600440979 16 4.49590015411377 C 16 7.601990222930908 13.28003978729248 10.09543037414551 9.160149574279785 13.9370698928833 L 8 15 Z\" stroke=\"none\" fill=\"#3c4b64\"></path>\n                                  </g>\n                                </svg>`);\n          likeSpan.text(response.userLikes.length);\n          isLiked.attr(\"data-isLiked\", \"false\");\n        },\n      });\n    }\n  });\n}\n\nfunction sortAddMember() {\n  $(document).on(\"keyup\", \"input#search-members\", function () {\n    var value = $(this).val().toLowerCase();\n    $(\".users-add-list\")\n      .children()\n      .each(function () {\n        var name = $(this).text().toLowerCase();\n\n        $(this).toggle(name.toLowerCase().indexOf(value) > -1);\n      });\n  });\n}\n"],"file":"user-profile.js"}